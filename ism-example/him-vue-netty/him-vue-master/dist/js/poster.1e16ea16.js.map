{"version":3,"sources":["webpack:///./src/views/test/canvas/poster.scss?f878","webpack:///./src/assets/image/poster-bg.png","webpack:///./src/views/test/canvas/poster.vue?8cb4","webpack:///./src/views/test/canvas/poster.js","webpack:///./src/views/test/canvas/poster.js?f3a2","webpack:///./src/views/test/canvas/poster.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_poster_scss_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_poster_scss_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","module","exports","p","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","width","height","posterImgUrl","src","alt","_e","staticRenderFns","postervue_type_script_lang_js_","name","data","ctx","components","methods","canIUseCanvas","canvas","getContext","drawBackground","_this","Promise","resolve","console","log","background","Image","require","onload","drawImage","drawText","_this2","fillStyle","fillRect","strokeStyle","font","textBaseline","fillText","drawAvatar","drawQrCode","drawAll","all","mounted","_this3","$refs","posterCanvas","then","toDataURL","created","canvas_postervue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"wGAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAobE,EAAG,0BCAvbE,EAAAC,QAAiBJ,EAAAK,EAAuB,8FCAxC,IAAAC,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBE,YAAA,aAAuBF,EAAA,UAAeG,IAAA,eAAAD,YAAA,gBAAAE,OAAsDC,MAAA,GAAAC,OAAA,MAAwB,OAAAV,EAAAW,aAAAP,EAAA,OAAwCE,YAAA,aAAAE,OAAgCI,IAAAZ,EAAAW,aAAAE,IAAA,MAAiCb,EAAAc,QAC3UC,KCDeC,4CACXC,KAAM,SACNC,KAFW,WAGP,OACIC,IAAK,KACLR,aAAc,OAGtBS,cACAC,SACIC,cADK,SACSC,GACV,QAASA,EAAOC,WAAW,OAG/BC,eALK,WAKY,IAAAC,EAAAzB,KACb,OAAO,IAAI0B,QAAQ,SAAAC,GACfC,QAAQC,IAAIJ,EAAKP,KACjB,IAAIY,EAAa,IAAIC,MACrBD,EAAWnB,IAAMqB,EAAQ,QACzBF,EAAWG,OAAS,WAChBR,EAAKP,IAAIgB,UACLJ,EACA,EACA,EACAL,EAAKP,IAAII,OAAOd,MAChBiB,EAAKP,IAAII,OAAOb,QAEpBkB,QAKZQ,SAvBK,WAuBM,IAAAC,EAAApC,KACP,OAAO,IAAI0B,QAAQ,SAAAC,GACfS,EAAKlB,IAAImB,UAAY,QACrBD,EAAKlB,IAAIoB,SAAS,EAAG,EAAG,IAAK,KAC7BF,EAAKlB,IAAImB,UAAY,OACrBD,EAAKlB,IAAIqB,YAAc,OACvBH,EAAKlB,IAAIsB,KAAO,kCAChBJ,EAAKlB,IAAIuB,aAAe,UACxBL,EAAKlB,IAAIwB,SAAS,QAAS,GAAI,IAC/Bf,OAIRgB,WApCK,WAqCD,OAAO,IAAIjB,QAAQ,SAAAC,GACfA,OAIRiB,WA1CK,WA2CD,OAAO,IAAIlB,QAAQ,SAAAC,GACfA,OAGRkB,QA/CK,WAgDD,OAAOnB,QAAQoB,KACX9C,KAAKwB,iBACLxB,KAAKmC,WACLnC,KAAK2C,aACL3C,KAAK4C,iBAIjBG,QAjEW,WAiED,IAAAC,EAAAhD,KACAsB,EAAStB,KAAKiD,MAAMC,aACtBlD,KAAKqB,cAAcC,KAGnBtB,KAAKkB,IAAMI,EAAOC,WAAW,MAC7BvB,KAAK6C,UAAUM,KAAK,WAChBH,EAAKtC,aAAesC,EAAK9B,IAAII,OAAO8B,UAAU,iBAI1DC,QA5EW,eCAwRC,EAAA,0BCQvSC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACAxD,EACAgB,GACF,EACA,KACA,KACA,MAIAyC,EAAAG,QAAAC,OAAA,aACeC,EAAA,WAAAL","file":"js/poster.1e16ea16.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!./poster.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!./poster.scss?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/poster-bg.55617934.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"view-box\"},[_c('canvas',{ref:\"posterCanvas\",staticClass:\"poster-canvas\",attrs:{\"width\":\"\",\"height\":\"\"}}),(_vm.posterImgUrl !== null)?_c('img',{staticClass:\"poster-img\",attrs:{\"src\":_vm.posterImgUrl,\"alt\":\"\"}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n    name: \"poster\",\n    data() {\n        return {\n            ctx: null,\n            posterImgUrl: null\n        };\n    },\n    components: {},\n    methods: {\n        canIUseCanvas(canvas) {\n            return !!canvas.getContext(\"2d\");\n        },\n        // 画背景\n        drawBackground() {\n            return new Promise(resolve => {\n                console.log(this.ctx);\n                let background = new Image();\n                background.src = require(\"../../../assets/image/poster-bg.png\");\n                background.onload = () => {\n                    this.ctx.drawImage(\n                        background,\n                        0,\n                        0,\n                        this.ctx.canvas.width,\n                        this.ctx.canvas.height\n                    );\n                    resolve();\n                };\n            });\n        },\n        // 画文字\n        drawText() {\n            return new Promise(resolve => {\n                this.ctx.fillStyle = \"green\"; //设置填充的背景颜色\n                this.ctx.fillRect(0, 0, 800, 300); //绘制 800*300 像素的已填充矩形：\n                this.ctx.fillStyle = \"#fff\";\n                this.ctx.strokeStyle = \"#fff\"; //设置笔触的颜色\n                this.ctx.font = \"bold 40px '字体','字体','微软雅黑','宋体'\"; //设置字体\n                this.ctx.textBaseline = \"hanging\"; //在绘制文本时使用的当前文本基线\n                this.ctx.fillText(\"长按二维码\", 10, 40); //设置文本内容\n                resolve();\n            });\n        },\n        // 画头像\n        drawAvatar() {\n            return new Promise(resolve => {\n                resolve();\n            });\n        },\n        // 画二维码\n        drawQrCode() {\n            return new Promise(resolve => {\n                resolve();\n            });\n        },\n        drawAll() {\n            return Promise.all([\n                this.drawBackground(),\n                this.drawText(),\n                this.drawAvatar(),\n                this.drawQrCode()\n            ]);\n        }\n    },\n    mounted() {\n        const canvas = this.$refs.posterCanvas;\n        if (this.canIUseCanvas(canvas)) {\n            // canvas.width = this.posterW;\n            // canvas.height = this.posterH;\n            this.ctx = canvas.getContext(\"2d\");\n            this.drawAll().then(() => {\n                this.posterImgUrl = this.ctx.canvas.toDataURL(\"image/png\");\n            });\n        }\n    },\n    created() {}\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./poster.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./poster.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./poster.vue?vue&type=template&id=a9118dd0&\"\nimport script from \"./poster.js?vue&type=script&lang=js&\"\nexport * from \"./poster.js?vue&type=script&lang=js&\"\nimport style0 from \"./poster.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"poster.vue\"\nexport default component.exports"],"sourceRoot":""}