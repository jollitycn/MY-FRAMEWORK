{"remainingRequest":"D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\node_modules\\babel-loader\\lib\\index.js!D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\src\\components\\Him\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\src\\components\\Him\\index.vue","mtime":1560643907000},{"path":"D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1578480813089},{"path":"D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1578480813089},{"path":"D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.sort\";\nimport _objectSpread from \"D:\\\\ProjectData\\\\github\\\\him-vue-netty\\\\him-vue-master\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/objectSpread\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// @ is an alias to /src\nimport Cookies from \"js-cookie\";\nimport { userLoginInfo, userQRCheckCode } from \"./api/userIndex\";\nimport { userFriendLists } from \"./api/userFriend\";\nimport { userLoginByTourist, userLoginByQq } from \"./api/userLogin\";\nimport { userFriendMsgClearUnMsgCount, userFriendMsgCreate, userFriendMsgLists } from \"./api/userFriendMsg\";\nimport { userFriendAskAck, userFriendAskClearFriendAskCount, userFriendAskCreate, userFriendAskLists } from \"./api/userFriendAsk\";\nimport { userGroupCreate, userGroupLists } from \"./api/userGroup\";\nimport { userGroupUserCheckCode, userGroupUserClearUnMsgCount, userGroupUserCreate, userGroupUserDelete, userGroupUserLists, userGroupUserUpdate } from \"./api/userGroupUser\";\nimport { userGroupMsgCreate, userGroupMsgLists } from \"./api/userGroupMsg\";\n\nvar QRCode = require(\"qrcode\");\n\nexport default {\n  name: \"Him\",\n  props: {\n    isShow: {\n      type: Boolean,\n      default: true\n    },\n    width: {\n      type: String,\n      default: \"100%\"\n    },\n    height: {\n      type: String,\n      default: \"100%\"\n    },\n    top: String,\n    left: String,\n    bottom: String,\n    right: String,\n    apiBaseUrl: String,\n    webSocketUrl: String,\n    userQRCodeUrl: String,\n    // 用户二维码的生成地址\n    groupQRCodeUrl: String,\n    // 群二维码的生成地址\n    // 是否自动初始化\n    isAutoInit: {\n      type: Boolean,\n      default: true\n    },\n    // 尝试重新连接的最大次数\n    webSocketReconnectMaxCount: {\n      type: Number,\n      default: 5\n    },\n    // WebSocket 编码\n    WSResEncode: {\n      type: Function,\n      default: function _default(data) {\n        return JSON.stringify(data);\n      }\n    },\n    // WebSocket 编码\n    WSResDecode: {\n      type: Function,\n      default: function _default(data) {\n        return JSON.parse(data);\n      }\n    }\n  },\n  data: function data() {\n    return {\n      themeList: [{\n        \"background-image\": \"url(\" + require(\"./image/bg-1.jpg\") + \")\",\n        \"background-repeat\": \"no-repeat\",\n        \"background-size\": \"cover\",\n        \"background-color\": \"#f6f6f6\"\n      }, {\n        \"background-image\": \"url(\" + require(\"./image/bg-2.jpg\") + \")\",\n        \"background-repeat\": \"no-repeat\",\n        \"background-size\": \"cover\",\n        \"background-color\": \"#f6f6f6\"\n      }, {\n        \"background-image\": \"url(\" + require(\"./image/bg-3.jpg\") + \")\",\n        \"background-repeat\": \"no-repeat\",\n        \"background-size\": \"cover\",\n        \"background-color\": \"#f6f6f6\"\n      }, {\n        \"background-image\": \"url(\" + require(\"./image/bg-4.jpg\") + \")\",\n        \"background-repeat\": \"no-repeat\",\n        \"background-size\": \"cover\",\n        \"background-color\": \"#f6f6f6\"\n      }, {\n        \"background-image\": \"url(\" + require(\"./image/bg-5.jpg\") + \")\",\n        \"background-repeat\": \"no-repeat\",\n        \"background-size\": \"cover\",\n        \"background-color\": \"#f6f6f6\"\n      }, {\n        \"background-repeat\": \"no-repeat\",\n        \"background-size\": \"cover\",\n        \"background-color\": \"#f6f6f6\"\n      }],\n      themeSelected: {\n        \"background-repeat\": \"no-repeat\",\n        \"background-size\": \"cover\",\n        \"background-color\": \"#f6f6f6\"\n      },\n      themeVisible: false,\n      imTabList: [{\n        index: 0,\n        isSelected: true,\n        title: \"消息\"\n      }, {\n        index: 1,\n        isSelected: false,\n        title: \"朋友\"\n      }, {\n        index: 2,\n        isSelected: false,\n        title: \"群组\"\n      }],\n      imTabSelectedIndex: 0,\n      // 选中的index\n      userQRCodeImg: null,\n      userQRCodeVisible: false,\n      groupQRCodeImg: null,\n      groupQRCodeVisible: false,\n      isMove: false,\n      clientWidth: null,\n      clientHeight: null,\n      user: {\n        profile: {},\n        sid: null\n      },\n      imBoxPositionX: null,\n      imBoxPositionY: null,\n      userFriendList: {},\n      userFriendListLimit: 500,\n      // 每次拉取多少好友\n      newFriendVisible: false,\n      newFriendQuery: {\n        page: 1,\n        limit: 20\n      },\n      newFriendList: [],\n      newFriendLoading: false,\n      newFriendLoadMore: true,\n      // 是否还可以加载更多\n      userGroupList: {},\n      // 群列表\n      userGroupListLimit: 500,\n      // 群列表每次拉取\n      historyMsgList: {},\n      historyMsgListSelected: {},\n      // 历史消息的选中值\n      createGroupName: \"\",\n      createGroupVisible: false,\n      chatVisible: false,\n      emojiList: [{\n        title: \"微笑\",\n        code: \"smile\"\n      }, {\n        title: \"发笑\",\n        code: \"laughing\"\n      }, {\n        title: \"害羞\",\n        code: \"blush\"\n      }, {\n        title: \"心眼\",\n        code: \"heart_eyes\"\n      }, {\n        title: \"傻笑\",\n        code: \"smirk\"\n      }, {\n        title: \"激动\",\n        code: \"flushed\"\n      }, {\n        title: \"咧嘴\",\n        code: \"grin\"\n      }, {\n        title: \"亲亲\",\n        code: \"kissing_smiling_eyes\"\n      }, {\n        title: \"眨眼\",\n        code: \"wink\"\n      }, {\n        title: \"害羞的亲亲\",\n        code: \"kissing_closed_eyes\"\n      }, {\n        title: \"调皮\",\n        code: \"stuck_out_tongue_winking_eye\"\n      }, {\n        title: \"晚安\",\n        code: \"sleeping\"\n      }, {\n        title: \"担心\",\n        code: \"worried\"\n      }, {\n        title: \"激动的微信\",\n        code: \"sweat_smile\"\n      }, {\n        title: \"冷汗\",\n        code: \"cold_sweat\"\n      }, {\n        title: \"笑哭\",\n        code: \"joy\"\n      }, {\n        title: \"哭泣\",\n        code: \"sob\"\n      }, {\n        title: \"愤怒\",\n        code: \"angry\"\n      }, {\n        title: \"生病\",\n        code: \"mask\"\n      }, {\n        title: \"尖叫\",\n        code: \"scream\"\n      }, {\n        title: \"墨镜\",\n        code: \"sunglasses\"\n      }, {\n        title: \"缩略图\",\n        code: \"thumbsup\"\n      }, {\n        title: \"鼓掌\",\n        code: \"clap\"\n      }, {\n        title: \"OK\",\n        code: \"ok_hand\"\n      }],\n      emojiVisible: false,\n      chatUser: {},\n      chatTextFocus: false,\n      chatCount: 0,\n      // 当前窗口收到的消息总量\n      chatText: \"\",\n      chatMsgListPositionX: null,\n      chatMsgListPositionY: null,\n      chatMsgList: [],\n      chatMsgListFriendQuery: {\n        senderUid: null,\n        page: 1,\n        limit: 25\n      },\n      chatMsgListGroupQuery: {\n        groupId: null,\n        page: 1,\n        limit: 25\n      },\n      chatMsgGroupUserList: {},\n      chatMsgGroupUserVisible: false,\n      chatMsgListScrollTop: true,\n      chatMsgListHandleLoading: false,\n      chatMsgListHandleMoreText: \"\",\n      chatMaxCount: 1,\n      // 最大消息数, 用作有多少条消息就 ack 一次, 后期可以做成定时器\n      webSocket: null,\n      webSocketReconnectCount: 0,\n      webSocketIsReconnect: true,\n      // 是否重连\n      webSocketWarningText: \"连接断开,正在尝试重连 <i class='dotting'></i>\",\n      webSocketIsOpen: false,\n      // 心跳定时器\n      webSocketPingTimer: null,\n      webSocketPingTime: 10000,\n      // 心跳的间隔，当前为 10秒,\n      confirm: {\n        isShow: false,\n        // 是否显示\n        title: \"提示\",\n        // 标题\n        message: \"确定执行吗?\",\n        // 标题\n        okHandle: function okHandle() {},\n        // 确认的回调\n        okName: \"确认\",\n        // 确认按钮的名称\n        cancelHandle: function cancelHandle() {},\n        // 取消的回调\n        cancelName: \"取消\" // 取消按钮的名称\n\n      }\n    };\n  },\n  methods: {\n    // 输入框的失去焦点事件, 解决微信中的bug\n    chatTextBlur: function chatTextBlur() {\n      window.scroll(0, 0);\n    },\n    // 判断字符是否为空的方法\n    isEmpty: function isEmpty(obj) {\n      return !obj || typeof obj === \"undefined\" || obj === null || obj === \"\";\n    },\n    // 设置 登录用户ID\n    setUid: function setUid(value) {\n      Cookies.set(\"UID\", value, {\n        expires: 365,\n        path: \"/\"\n      });\n    },\n    getUid: function getUid() {\n      var uid = Cookies.get(\"UID\", {\n        path: \"/\"\n      });\n\n      if (this.isEmpty(uid)) {\n        return null;\n      }\n\n      return uid;\n    },\n    delUid: function delUid() {\n      Cookies.remove(\"UID\", {\n        path: \"/\"\n      });\n    },\n    setSid: function setSid(value) {\n      Cookies.set(\"SID\", value, {\n        expires: 365,\n        path: \"/\"\n      });\n    },\n    getSid: function getSid() {\n      var sid = Cookies.get(\"SID\", {\n        path: \"/\"\n      });\n\n      if (this.isEmpty(sid)) {\n        return null;\n      }\n\n      return sid;\n    },\n    delSid: function delSid() {\n      Cookies.remove(\"SID\", {\n        path: \"/\"\n      });\n    },\n    setLocalStorage: function setLocalStorage(name, value) {\n      localStorage.setItem(name, value);\n    },\n    getLocalStorage: function getLocalStorage(name) {\n      return localStorage.getItem(name);\n    },\n    // 点击切换主题\n    changeTheme: function changeTheme(index, isLocalStorage) {\n      // 判断是否存在下标\n      if (index === null || index < 0 || this.themeList.length === 0 || index >= this.themeList.length) {\n        return false;\n      }\n\n      var themeSelected = this.themeList[index];\n\n      if (themeSelected) {\n        this.themeSelected = themeSelected;\n\n        if (isLocalStorage === true) {\n          this.setLocalStorage(\"themSelectedIndex\", index);\n        }\n      }\n    },\n    // 点击了 QQ 登录\n    qqLoginClick: function qqLoginClick() {\n      // 传递到父组件\n      this.$emit(\"on-qq-login-click\");\n    },\n    // im-box 的询问框\n    confirmInit: function confirmInit(title, message, okHandle, cancelHandle, okName, cancelName) {\n      this.confirm.isShow = true;\n      this.confirm.title = title;\n      this.confirm.message = message;\n      this.confirm.okHandle = okHandle;\n      this.confirm.cancelHandle = cancelHandle;\n\n      if (okName) {\n        this.confirm.okName = okName;\n      }\n\n      if (cancelName) {\n        this.confirm.cancelName = cancelName;\n      }\n    },\n    userOutClick: function userOutClick() {\n      var _this2 = this;\n\n      this.confirmInit(\"提示\", \"确定登出吗?\", function () {\n        // 确定了\n        _this2.userOut();\n      }, function () {\n        // 取消了登出\n        _this2.confirm.isShow = false;\n      });\n    },\n    // 登出\n    userOut: function userOut() {\n      this.delUid();\n      this.delSid();\n      this.user = {\n        profile: {},\n        sid: null\n      };\n      this.userFriendList = {};\n      this.newFriendList = [];\n      this.userGroupList = {};\n      this.historyMsgList = {};\n      this.historyMsgListSelected = {};\n      this.chatMsgList = [];\n      this.chatMsgGroupUserList = {};\n      this.chatCount = 0;\n      this.userQRCodeImg = null; // 关闭websocket 连接\n\n      this.wsOut();\n    },\n    // 游客登录\n    touristLogin: function touristLogin(sex) {\n      var _this3 = this;\n\n      // 先退出\n      this.userOut();\n      userLoginByTourist(this.apiBaseUrl, sex).then(function (response) {\n        if (response.code !== 0) {\n          _this3.requestErr(response.code, response.message);\n\n          return false;\n        }\n\n        var data = response.data; // 设置登录信息\n\n        _this3.setUid(data.uid);\n\n        _this3.setSid(data.sid); // 登录成功, 重新初始化\n\n\n        _this3.init();\n      }).catch(function () {});\n    },\n    // QQ 登录\n    qqLogin: function qqLogin(code, redirectUri) {\n      var _this4 = this;\n\n      this.userOut();\n      userLoginByQq(this.apiBaseUrl, code, redirectUri).then(function (response) {\n        if (response.code !== 0) {\n          _this4.requestErr(response.code, response.message);\n\n          return false;\n        }\n\n        var data = response.data; // 设置登录信息\n\n        _this4.setUid(data.uid);\n\n        _this4.setSid(data.sid); // 登录成功, 重新初始化\n\n\n        _this4.init();\n      }).catch(function () {});\n    },\n    // 初始化界面\n    init: function init() {\n      // 初始化主题背景\n      var themSelectedIndex = this.getLocalStorage(\"themSelectedIndex\");\n      this.changeTheme(themSelectedIndex, false); // 初始化用户信息\n\n      this.userInit(); // 打开通知, try 一下, 因为一些浏览器不兼容, 会报错\n\n      try {\n        var Notification = window.Notification || window.mozNotification || window.webkitNotification; // 判断浏览器是否支持桌面通知\n\n        if (Notification) {\n          var requestPermission = Notification.requestPermission();\n\n          if (requestPermission.then) {\n            requestPermission.then(function (result) {\n              // result可能是是granted, denied, 或default.\n              if (result) {// console.log(result);\n              }\n            });\n          }\n        }\n      } catch (e) {// console.log(e);\n      }\n    },\n    // 请求错误处理\n    requestErr: function requestErr(code, message) {\n      // 登录失效的\n      if (code === 1) {\n        this.delUid();\n        this.delSid();\n      } // 向父组件传递出去\n\n\n      this.$emit(\"on-request-err\", code, message);\n    },\n    userQRCodeClick: function userQRCodeClick() {\n      var _this5 = this;\n\n      if (this.userQRCodeImg) {\n        this.userQRCodeVisible = true;\n        return false;\n      }\n\n      userQRCheckCode(this.apiBaseUrl).then(function (response) {\n        if (response.code !== 0) {\n          _this5.requestErr(response.code, response.message);\n\n          return false;\n        }\n\n        var opts = {\n          errorCorrectionLevel: \"H\",\n          type: \"image/jpeg\",\n          rendererOpts: {\n            quality: 0.3\n          }\n        };\n        var qrCodeUrl = _this5.userQRCodeUrl + response.data;\n        console.log(qrCodeUrl); // 生成二维码\n\n        QRCode.toDataURL(qrCodeUrl, opts, function (error, url) {\n          if (error) {\n            alert(error);\n            return false;\n          }\n\n          _this5.userQRCodeVisible = true;\n          _this5.userQRCodeImg = url;\n        });\n      }).catch(function () {});\n    },\n    // 关闭用户二维码\n    userQRCodeCloseHandle: function userQRCodeCloseHandle() {\n      this.userQRCodeVisible = false;\n    },\n    // 群二维码\n    groupQRCodeClick: function groupQRCodeClick() {\n      var _this6 = this;\n\n      if (this.groupQRCodeImg) {\n        this.groupQRCodeVisible = true;\n        return false;\n      }\n\n      userGroupUserCheckCode(this.apiBaseUrl, this.historyMsgListSelected.id).then(function (response) {\n        if (response.code !== 0) {\n          _this6.requestErr(response.code, response.message);\n\n          return false;\n        }\n\n        var opts = {\n          errorCorrectionLevel: \"H\",\n          type: \"image/jpeg\",\n          rendererOpts: {\n            quality: 0.3\n          }\n        };\n        var qrCodeUrl = _this6.groupQRCodeUrl + response.data;\n        console.log(qrCodeUrl); // 生成二维码\n\n        QRCode.toDataURL(qrCodeUrl, opts, function (error, url) {\n          if (error) {\n            alert(error);\n            return false;\n          }\n\n          _this6.groupQRCodeVisible = true;\n          _this6.groupQRCodeImg = url;\n        });\n      }).catch(function () {});\n    },\n    // 关闭用户二维码\n    groupQRCodeCloseHandle: function groupQRCodeCloseHandle() {\n      this.groupQRCodeVisible = false;\n    },\n    // 点击下载图片\n    downloadImg: function downloadImg(url) {\n      // 生成一个a元素\n      var a = document.createElement(\"a\"); // 创建一个单击事件\n\n      var event = new MouseEvent(\"click\"); // 将a的download属性设置为我们想要下载的图片名称，若name不存在则使用‘下载图片名称’作为默认名称\n\n      a.download = this.user.name; // 将生成的URL设置为a.href属性\n\n      a.href = url; // 触发a的单击事件\n\n      a.dispatchEvent(event);\n    },\n    // 去换Tab\n    imTabSelectedHandle: function imTabSelectedHandle(index) {\n      var data = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.imTabList[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n          var isSelected = false;\n\n          if (item.index === index) {\n            this.imTabSelectedIndex = index;\n            isSelected = true;\n          }\n\n          item.isSelected = isSelected;\n          data.push(item);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      this.imTabList = data;\n    },\n    msgClearUnMsgCount: function msgClearUnMsgCount(type, id) {\n      if (type === 1) {\n        // 清空未读消息数量\n        var query = {\n          receiverUid: id\n        };\n        userFriendMsgClearUnMsgCount(this.apiBaseUrl, query);\n      } else if (type === 2) {\n        userGroupUserClearUnMsgCount(this.apiBaseUrl, id);\n      }\n    },\n    // 打开聊天界面\n    handleChat: function handleChat(item) {\n      if (item.unMsgCount > 0) {\n        this.msgClearUnMsgCount(item.type, item.id);\n        var key = item.type + \"-\" + item.id;\n        this.historyMsgList[key].unMsgCount = 0;\n      }\n\n      this.chatVisible = true;\n      this.chatUser = item;\n      this.chatMsgList = [];\n      this.historyMsgListSelected = item;\n      this.chatMsgListFriendQuery.page = 1;\n      this.chatMsgListGroupQuery.page = 1;\n      this.chatMsgGroupUserList = {}; // 追加\n\n      this.getChatMsgList();\n    },\n    // 追加历史消息列表\n    getChatMsgList: function getChatMsgList() {\n      var _this7 = this;\n\n      if (this.chatMsgListHandleLoading) {\n        return false;\n      } // 不是第一次加载时\n\n\n      if (this.chatMsgList.length !== 0) {\n        this.chatMsgListScrollTop = false;\n      }\n\n      this.chatMsgListHandleLoading = true;\n      this.chatMsgListHandleMoreText = \"加载中\";\n      var historyItem = this.historyMsgListSelected;\n      var isLoad = true; // 是否是加载更多\n      // 如果是好友类型\n\n      if (historyItem.type === 1) {\n        var senderUid = historyItem.id;\n        this.chatMsgListFriendQuery.senderUid = historyItem.id;\n        userFriendMsgLists(this.apiBaseUrl, this.chatMsgListFriendQuery).then(function (response) {\n          _this7.chatMsgListFriendQuery.page += 1;\n          _this7.chatMsgListHandleLoading = false;\n\n          if (response.code !== 0) {\n            _this7.requestErr(response.code, response.message);\n\n            return false;\n          }\n\n          var list = response.data;\n\n          if (list.length === 0) {\n            _this7.chatMsgListHandleMoreText = \"没有更多了\";\n            return false;\n          }\n\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = list[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var item = _step2.value;\n              var isMine = _this7.user.uid === item.senderUid;\n              var user = {};\n\n              if (isMine) {\n                user = {\n                  uid: _this7.user.uid,\n                  name: _this7.user.name,\n                  avatar: _this7.user.avatar\n                };\n              } else {\n                user = {\n                  uid: senderUid,\n                  name: historyItem.name,\n                  avatar: historyItem.avatar\n                };\n              } // 追加到消息列表\n\n\n              _this7.pushChatMsgList(item.msgType, item.msgContent, user, item.createTime, isLoad);\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n\n          _this7.chatMsgListHandleMoreText = \"加载更多消息\";\n        }).catch(function () {\n          _this7.chatMsgListHandleLoading = false;\n          _this7.chatMsgListHandleMoreText = \"\";\n        });\n      } else if (historyItem.type === 2) {\n        this.chatMsgListGroupQuery.groupId = historyItem.id;\n        userGroupMsgLists(this.apiBaseUrl, this.chatMsgListGroupQuery).then(function (response) {\n          _this7.chatMsgListGroupQuery.page += 1;\n          _this7.chatMsgListHandleLoading = false;\n\n          if (response.code !== 0) {\n            _this7.requestErr(response.code, response.message);\n\n            return false;\n          }\n\n          var list = response.data;\n\n          if (list.length === 0) {\n            _this7.chatMsgListHandleMoreText = \"没有更多了\";\n            return false;\n          }\n\n          var _iteratorNormalCompletion3 = true;\n          var _didIteratorError3 = false;\n          var _iteratorError3 = undefined;\n\n          try {\n            for (var _iterator3 = list[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n              var item = _step3.value;\n\n              // 追加到消息列表\n              _this7.pushChatMsgList(item.msgType, item.msgContent, item.user, item.createTime, isLoad);\n            }\n          } catch (err) {\n            _didIteratorError3 = true;\n            _iteratorError3 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n                _iterator3.return();\n              }\n            } finally {\n              if (_didIteratorError3) {\n                throw _iteratorError3;\n              }\n            }\n          }\n\n          _this7.chatMsgListHandleMoreText = \"加载更多消息\";\n        }).catch(function () {\n          _this7.chatMsgListHandleLoading = false;\n          _this7.chatMsgListHandleMoreText = \"\";\n        });\n      }\n    },\n    isShowClick: function isShowClick() {\n      // 传递到父组件\n      this.$emit(\"on-is-show-click\");\n    },\n    // 关闭\n    closeChat: function closeChat() {\n      var selectedType = this.historyMsgListSelected.type || 0;\n      var id = this.historyMsgListSelected.id || 0;\n      this.historyMsgListSelected = {};\n      this.chatMsgList = [];\n      this.chatVisible = false; // 清空文本\n\n      this.chatText = \"\"; // 清空群聊的二维码信息\n\n      this.groupQRCodeImg = null; // 如果有当前窗口有未读消息，清除一下未读消息\n\n      if (this.chatCount > 0) {\n        this.chatCount = 0; // 清空消息\n\n        this.msgClearUnMsgCount(selectedType, id);\n      }\n    },\n    // emoji 表情\n    handleEmoji: function handleEmoji() {\n      this.emojiVisible = !this.emojiVisible;\n    },\n    selectEmoji: function selectEmoji(item) {\n      this.chatText += \":emoji[\" + item.code + \"]\";\n      this.chatTextFocus = true;\n    },\n    userInit: function userInit() {\n      var _this8 = this;\n\n      if (!this.getUid() || !this.getSid()) {\n        return false;\n      }\n\n      userLoginInfo(this.apiBaseUrl, {}).then(function (response) {\n        if (response.code !== 0) {\n          _this8.requestErr(response.code, response.message);\n\n          return false;\n        }\n\n        var data = response.data;\n        _this8.user = data; // 向父组件传递登录初始化完成\n\n        _this8.$emit(\"on-login-init\"); // 递归拉取好友\n\n\n        _this8.getUserFriendList(1, _this8.userFriendListLimit); // 递归拉取群列表\n\n\n        _this8.getUserGroupList(1, _this8.userGroupListLimit); // 初始化 WebSocket\n\n\n        _this8.webSocketInit();\n      }).catch(function () {});\n    },\n    // 获取用户朋友列表\n    getUserFriendList: function getUserFriendList(page, limit) {\n      var _this9 = this;\n\n      var query = {\n        page: page,\n        limit: limit\n      };\n      userFriendLists(this.apiBaseUrl, query).then(function (response) {\n        if (response.code !== 0) {\n          return false;\n        }\n\n        var data = response.data;\n\n        if (data.length <= 0) {\n          return false;\n        }\n\n        var userFriendList = Object.assign({}, _this9.userFriendList);\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = data[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var item = _step4.value;\n\n            // 聊过天\n            if (item.lastMsgContent) {\n              _this9.pushHistoryMsg(1, item.user.uid, item.remark || item.user.name, item.user.remark, item.user.avatar, item.lastMsgContent, item.unMsgCount, item.modifiedTime);\n            }\n\n            userFriendList[item.friendUid] = item;\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n              _iterator4.return();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n\n        _this9.userFriendList = userFriendList;\n\n        if (data.length < limit) {\n          return false;\n        }\n\n        _this9.getUserFriendList(page + 1, limit);\n      }).catch(function () {});\n    },\n    // 朋友列表的点击\n    friendClick: function friendClick(item) {\n      var data = {\n        type: 1,\n        id: item.friendUid,\n        name: item.remark ? item.remark : item.user.name,\n        avatar: item.user.avatar,\n        remark: item.user.remark,\n        unMsgCount: item.unMsgCount ? item.unMsgCount : 0\n      };\n      this.handleChat(data);\n    },\n    // 新的朋友点击\n    newFriendClick: function newFriendClick() {\n      if (!this.newFriendVisible) {\n        this.newFriendQuery.page = 1;\n        this.newFriendVisible = true;\n        this.newFriendLoadMore = true;\n        this.newFriendList = [];\n        this.getUserFriendAskList(); // 清空\n\n        if (this.user.profile.friendAskCount > 0) {\n          this.clearFriendAskCount();\n        }\n\n        return false;\n      }\n\n      this.newFriendVisible = false;\n    },\n    // 发送好友请求\n    createUserFriendAsk: function createUserFriendAsk(checkCode, remark) {\n      userFriendAskCreate(this.apiBaseUrl, checkCode, remark).then(function (response) {\n        if (response.code) {\n          return false;\n        }\n      }).catch(function () {});\n    },\n    // 确认\n    askAck: function askAck(item, status) {\n      var _this10 = this;\n\n      userFriendAskAck(this.apiBaseUrl, item.id, status).then(function (response) {\n        if (response.code) {\n          return false;\n        }\n\n        item.status = status;\n        var userFriendList = Object.assign({}, _this10.userFriendList);\n        userFriendList[item.friendUid] = item;\n        _this10.userFriendList = userFriendList; // 追加到历史消息\n\n        _this10.pushHistoryMsg(1, item.user.uid, item.user.name, item.user.remark, item.user.avatar, item.remark ? item.remark : \"成为好友，现在开始聊吧~\", 0, new Date());\n      }).catch(function () {});\n    },\n    // 清空好友请求数量\n    clearFriendAskCount: function clearFriendAskCount() {\n      var _this11 = this;\n\n      userFriendAskClearFriendAskCount(this.apiBaseUrl).then(function (response) {\n        if (response.code) {\n          return false;\n        }\n\n        _this11.user.profile.friendAskCount = 0;\n      }).catch(function () {});\n    },\n    // 获取好友请求列表\n    getUserFriendAskList: function getUserFriendAskList() {\n      var _this12 = this;\n\n      if (!this.newFriendLoadMore || this.newFriendLoading) {\n        return false;\n      }\n\n      this.newFriendLoading = true;\n      userFriendAskLists(this.apiBaseUrl, this.newFriendQuery).then(function (response) {\n        _this12.newFriendLoading = false;\n\n        if (response.code) {\n          _this12.newFriendLoadMore = true;\n          return false;\n        }\n\n        _this12.newFriendQuery.page += 1;\n        var data = response.data;\n\n        if (data.length === 0) {\n          _this12.newFriendLoadMore = false;\n          return false;\n        }\n\n        if (data.length < _this12.newFriendQuery.limit) {\n          _this12.newFriendLoadMore = false;\n        }\n\n        _this12.newFriendList = _this12.newFriendList.concat(data);\n      }).catch(function () {\n        _this12.newFriendLoading = false;\n      });\n    },\n    // 获取群列表\n    getUserGroupList: function getUserGroupList(page, limit) {\n      var _this13 = this;\n\n      var query = {\n        page: page,\n        limit: limit\n      };\n      userGroupUserLists(this.apiBaseUrl, query).then(function (response) {\n        if (response.code !== 0) {\n          return false;\n        }\n\n        var data = response.data;\n\n        if (data.length <= 0) {\n          return false;\n        }\n\n        var userGroupList = Object.assign({}, _this13.userGroupList);\n        var _iteratorNormalCompletion5 = true;\n        var _didIteratorError5 = false;\n        var _iteratorError5 = undefined;\n\n        try {\n          for (var _iterator5 = data[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n            var item = _step5.value;\n\n            // 聊过天\n            if (item.lastMsgContent) {\n              _this13.pushHistoryMsg(2, item.groupId, item.remark || item.group.name, item.group.remark, item.group.avatar, item.lastMsgContent, item.unMsgCount, item.lastMsgTime);\n            }\n\n            userGroupList[item.groupId] = item;\n          }\n        } catch (err) {\n          _didIteratorError5 = true;\n          _iteratorError5 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion5 && _iterator5.return != null) {\n              _iterator5.return();\n            }\n          } finally {\n            if (_didIteratorError5) {\n              throw _iteratorError5;\n            }\n          }\n        }\n\n        _this13.userGroupList = userGroupList;\n\n        if (data.length < limit) {\n          return false;\n        }\n\n        _this13.getUserGroupList(page + 1, limit);\n      }).catch(function () {});\n    },\n    // 群组列表的点击\n    groupClick: function groupClick(item) {\n      var data = {\n        type: 2,\n        id: item.groupId,\n        name: item.group.name,\n        avatar: item.group.avatar,\n        remark: item.group.remark\n      };\n      this.handleChat(data);\n    },\n    // 创建群\n    createGroup: function createGroup() {\n      var _this14 = this;\n\n      this.createGroupVisible = true;\n\n      if (this.createGroupName.length === 0) {\n        return false;\n      }\n\n      userGroupCreate(this.apiBaseUrl, this.createGroupName, \"\", \"\").then(function (response) {\n        if (response.code !== 0) {\n          _this14.requestErr(response.code, response.message);\n\n          return false;\n        }\n\n        var data = response.data;\n        var userGroupList = Object.assign({}, _this14.userGroupList);\n        var item = {\n          groupId: data.groupId,\n          group: data\n        };\n        userGroupList[item.groupId] = item;\n        _this14.userGroupList = userGroupList;\n        _this14.createGroupVisible = false;\n        _this14.createGroupName = \"\"; // 默认打开群聊天界面\n\n        var chatData = {\n          type: 2,\n          id: item.groupId,\n          name: item.group.name,\n          avatar: item.group.avatar,\n          remark: item.group.remark\n        };\n\n        _this14.handleChat(chatData);\n      }).catch(function () {});\n    },\n    // 取消创建群\n    createGroupClose: function createGroupClose() {\n      this.createGroupVisible = false;\n    },\n    // 加入群\n    joinGroupUser: function joinGroupUser(checkCode) {\n      var _this15 = this;\n\n      userGroupUserCreate(this.apiBaseUrl, checkCode).then(function (response) {\n        if (response.code !== 0) {\n          _this15.requestErr(response.code, response.message);\n\n          return false;\n        }\n\n        var item = response.data;\n        var userGroupList = Object.assign({}, _this15.userGroupList);\n\n        _this15.pushHistoryMsg(2, item.groupId, item.remark || item.group.name, item.group.remark, item.group.avatar, item.lastMsgContent, 1, item.lastMsgTime);\n\n        userGroupList[item.groupId] = item;\n        _this15.userGroupList = userGroupList;\n      }).catch(function () {});\n    },\n    // 修改在群的信息\n    updateGroupUser: function updateGroupUser(groupId, remark) {\n      var _this16 = this;\n\n      userGroupUserUpdate(this.apiBaseUrl, groupId, remark).then(function (response) {\n        if (response.code !== 0) {\n          _this16.requestErr(response.code, response.message);\n\n          return false;\n        }\n      }).catch(function () {});\n    },\n    // 删除/退出群\n    outGroupUser: function outGroupUser(groupId) {\n      var _this17 = this;\n\n      userGroupUserDelete(this.apiBaseUrl, groupId).then(function (response) {\n        if (response.code !== 0) {\n          _this17.requestErr(response.code, response.message);\n\n          return false;\n        }\n\n        var item = response.data;\n        var userGroupList = Object.assign({}, _this17.userGroupList);\n        delete userGroupList[item.groupId];\n        _this17.userGroupList = userGroupList;\n        var historyMsgList = Object.assign({}, _this17.historyMsgList);\n        delete historyMsgList[2 + \"-\" + item.groupId];\n        _this17.historyMsgList = historyMsgList;\n      }).catch(function () {});\n    },\n    isShowGroupUserListClick: function isShowGroupUserListClick() {\n      var _this18 = this;\n\n      this.chatMsgGroupUserVisible = !this.chatMsgGroupUserVisible;\n\n      if (!this.chatMsgGroupUserVisible || Object.keys(this.chatMsgGroupUserList).length > 0) {\n        return false;\n      }\n\n      var query = {\n        groupId: this.historyMsgListSelected.id,\n        page: 1,\n        limit: 500\n      };\n      userGroupLists(this.apiBaseUrl, query).then(function (response) {\n        if (response.code !== 0) {\n          _this18.requestErr(response.code, response.message);\n\n          return false;\n        }\n\n        var data = response.data;\n        var chatMsgGroupUserList = Object.assign({}, _this18.chatMsgGroupUserList);\n        var _iteratorNormalCompletion6 = true;\n        var _didIteratorError6 = false;\n        var _iteratorError6 = undefined;\n\n        try {\n          for (var _iterator6 = data[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n            var item = _step6.value;\n            chatMsgGroupUserList[item.user.uid] = item;\n          }\n        } catch (err) {\n          _didIteratorError6 = true;\n          _iteratorError6 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion6 && _iterator6.return != null) {\n              _iterator6.return();\n            }\n          } finally {\n            if (_didIteratorError6) {\n              throw _iteratorError6;\n            }\n          }\n        }\n\n        _this18.chatMsgGroupUserList = chatMsgGroupUserList;\n      }).catch(function () {});\n    },\n    // 追加历史消息 (type: 1:好友,2:群消息)\n    pushHistoryMsg: function pushHistoryMsg(type, id, name, remark, avatar, lastMsgContent, unMsgCount, modifiedTime) {\n      var key = type + \"-\" + id;\n      var map = Object.assign({}, this.historyMsgList);\n      var item = map[key];\n      console.log(item, key, \"历史消息\");\n\n      if (item) {\n        item.lastMsgContent = lastMsgContent;\n        item.unMsgCount += unMsgCount;\n        item.modifiedTime = modifiedTime;\n        map[key] = item;\n        this.historyMsgList = map;\n        return false;\n      }\n\n      var data = {\n        id: id,\n        type: type,\n        name: name,\n        remark: remark,\n        avatar: avatar,\n        lastMsgContent: lastMsgContent,\n        unMsgCount: unMsgCount,\n        modifiedTime: modifiedTime\n      };\n      map[key] = data;\n      this.historyMsgList = map;\n    },\n    // 追加消息到当前聊天 {isLoad：是否加载更多}\n    pushChatMsgList: function pushChatMsgList(msgType, msgContent, user, createTime, isLoad) {\n      msgContent = this.createContent(msgContent);\n      createTime = this.formatDate(createTime, \"yyyy/MM/dd hh:mm:ss\");\n      var item = {};\n      item.isMine = this.user.uid === user.uid;\n      item.user = user;\n      item.msgType = msgType;\n      item.msgContent = msgContent;\n      item.createTime = createTime; // 加载更多，向头部增加\n\n      if (isLoad) {\n        this.chatMsgList.unshift(item);\n      } else {\n        // 头部尾部增加\n        this.chatMsgList.push(item);\n      }\n    },\n    // 断开连接时\n    webSocketClose: function webSocketClose() {\n      // 修改状态为未连接\n      this.webSocketIsOpen = false;\n      this.webSocket = null; // 判断是否重连\n\n      if (this.webSocketIsReconnect && this.webSocketReconnectCount === 0) {\n        // 第一次直接尝试重连\n        this.webSocketReconnect();\n      }\n    },\n    // 定时心跳\n    webSocketPing: function webSocketPing() {\n      var _this19 = this;\n\n      this.webSocketPingTimer = setTimeout(function () {\n        if (!_this19.webSocketIsOpen) {\n          return false;\n        }\n\n        console.log(\"心跳\");\n        var payload = {\n          type: 0\n        };\n\n        _this19.webSocketSend(payload);\n\n        clearTimeout(_this19.webSocketPingTimer); // 重新执行\n\n        _this19.webSocketPing();\n      }, this.webSocketPingTime);\n    },\n    // 初始化 WebSocket\n    webSocketInit: function webSocketInit() {\n      this.webSocketWarningText = \"连接断开,正在尝试重连 <i class='dotting'></i>\"; // 修改是否重连为 true\n\n      this.webSocketIsReconnect = true;\n      this.webSocket = new WebSocket(this.webSocketUrl);\n      this.webSocket.onopen = this.webSocketHandleOpen;\n      this.webSocket.onerror = this.webSocketHandleError;\n      this.webSocket.onmessage = this.webSocketHandleMessage;\n      this.webSocket.onclose = this.webSocketHandleClose;\n    },\n    // WebSocket 重连\n    webSocketReconnect: function webSocketReconnect() {\n      var _this20 = this;\n\n      if (this.webSocketIsOpen) {\n        return false;\n      }\n\n      this.webSocketReconnectCount += 1; // 判断是否到了最大重连次数\n\n      if (this.webSocketReconnectCount >= this.webSocketReconnectMaxCount) {\n        this.webSocketWarningText = \"重连次数超限\";\n        return false;\n      } // 初始化\n\n\n      this.webSocketInit(); // 每过 5 秒尝试一次，检查是否连接成功，直到超过最大重连次数\n\n      var timer = setTimeout(function () {\n        _this20.webSocketReconnect();\n\n        clearTimeout(timer);\n      }, 5000);\n    },\n    // WebSocket 打开成功后\n    webSocketHandleOpen: function webSocketHandleOpen() {\n      console.log(\"连接打开\");\n      this.webSocketIsOpen = true; // 清空重连的次数\n\n      this.webSocketReconnectCount = 0; // 发送登录信息\n\n      var payload = {\n        type: 1\n      };\n      this.webSocketSend(payload); // 开启定时心跳\n\n      this.webSocketPing();\n    },\n    // WebSocket 关闭\n    webSocketHandleClose: function webSocketHandleClose() {\n      console.log(\"连接断开\"); // 关闭心跳\n\n      this.webSocketClose();\n    },\n    // WebSocket 发生错误时\n    webSocketHandleError: function webSocketHandleError(err) {\n      console.log(\"连接报错：\", err); // 关闭心跳\n\n      this.webSocketClose();\n    },\n    // 接收到消息时\n    webSocketHandleMessage: function webSocketHandleMessage(event) {\n      var _this21 = this;\n\n      // 响应体的message\n      var data = event.data;\n      this.WSResDecode(data, function (response) {\n        console.log(\"服务端消息:\", response);\n        var type = response.type || 0;\n\n        switch (type) {\n          case -2:\n            // 登录异常\n            // 退出登录\n            _this21.userOut();\n\n            break;\n\n          case -1:\n            // 异地登录\n            // 通知下线\n            _this21.wsOut();\n\n            break;\n\n          case 1:\n            // 好友消息\n            _this21.wsFriendMsgHandle(response);\n\n            break;\n\n          case 2: // 群消息\n\n          case 5:\n            // 加入群消息\n            _this21.wsGroupMsgHandle(response);\n\n            break;\n\n          case 3:\n            // 好友请求\n            _this21.wsFriendAskHandle();\n\n            break;\n\n          case 4:\n            // 好友同意消息\n            _this21.wsFriendAckHandle(response);\n\n            break;\n        }\n      });\n    },\n    wsOut: function wsOut() {\n      this.webSocketWarningText = \"异地登录请重新登录\"; // 修改重连状态\n\n      this.webSocketIsReconnect = false;\n\n      if (this.webSocket) {\n        console.log(\"关闭websocket\"); // 关闭 websocket\n\n        this.webSocket.close();\n      }\n    },\n    // 好友请求\n    wsFriendAskHandle: function wsFriendAskHandle() {\n      this.user.profile.friendAskCount += 1;\n    },\n    // 好友同意消息\n    wsFriendAckHandle: function wsFriendAckHandle(response) {\n      var message = response.message;\n      var user = response.user;\n      var createTime = new Date(response.createTime);\n      var receiveId = message.receiveId || 0;\n      var uid = user.uid || 0;\n      var msgContent = message.msgContent || \"\";\n\n      if (!receiveId || typeof receiveId !== \"number\" || receiveId === 0 || !msgContent || msgContent === \"\" || typeof uid !== \"number\" || uid === 0) {\n        return false;\n      }\n\n      var userFriendList = Object.assign({}, this.userFriendList);\n      var userFriendItem = {\n        friendUid: uid,\n        user: user\n      };\n      userFriendList[uid] = userFriendItem;\n      this.userFriendList = userFriendList;\n      var historyType = 1; // 好友\n\n      var unMsgCount = 1; // 追加到历史消息\n\n      this.pushHistoryMsg(historyType, uid, user.name, user.remark, user.avatar, msgContent, unMsgCount, createTime);\n    },\n    // 消息类型的消息（好友消息）\n    wsFriendMsgHandle: function wsFriendMsgHandle(response) {\n      var message = response.message;\n      var user = response.user;\n      var createTime = new Date(response.createTime);\n      var receiveId = message.receiveId || 0;\n      var uid = user.uid || 0;\n      var msgType = message.msgType || 0;\n      var msgContent = message.msgContent || \"\";\n      console.log(\"好友消息\", receiveId, msgContent, uid);\n\n      if (!receiveId || typeof receiveId !== \"number\" || receiveId === 0 || !msgContent || msgContent === \"\" || typeof uid !== \"number\" || uid === 0) {\n        return false;\n      }\n\n      var name = user.name;\n      var remark = user.remark;\n      var avatar = user.avatar; // 判断是不是打开的这个对象\n\n      var selectedType = this.historyMsgListSelected.type || 0;\n      var id = this.historyMsgListSelected.id || 0;\n      var unMsgCount = 1;\n      var historyType = 1; // 判断是不是聊天窗口的消息\n\n      if (selectedType === historyType && id === uid) {\n        var _user = {\n          uid: uid,\n          name: name,\n          avatar: avatar\n        };\n        this.pushChatMsgList(msgType, msgContent, _user, createTime);\n        unMsgCount = 0; // 如果超过 1 个消息，则做一次 ACK 消息的操作\n\n        this.chatCount += 1;\n\n        if (this.chatCount >= this.chatMaxCount) {\n          this.chatCount = 0; // 清空消息\n\n          this.msgClearUnMsgCount(historyType, id);\n        }\n      }\n\n      this.pushHistoryMsg(historyType, uid, name, remark, avatar, msgContent, unMsgCount, createTime);\n    },\n    // 消息类型的消息（群消息）\n    wsGroupMsgHandle: function wsGroupMsgHandle(response) {\n      var type = response.type;\n      var message = response.message;\n      var user = response.user;\n      var createTime = new Date(response.createTime);\n      var receiveId = message.receiveId || 0;\n      var uid = user.uid || 0;\n      var msgType = message.msgType || 0;\n      var msgContent = message.msgContent || \"\";\n      console.log(\"群消息\", receiveId, msgContent, uid);\n\n      if (!receiveId || typeof receiveId !== \"number\" || receiveId === 0 || !msgContent || msgContent === \"\" || typeof uid !== \"number\" || uid === 0) {\n        return false;\n      } // 如果是入群消息, 则改变\n\n\n      var isJoinGroup = false;\n\n      if (type === 5) {\n        isJoinGroup = true;\n      }\n\n      var name = user.name;\n      var remark = user.remark;\n      var avatar = user.avatar; // 判断是不是打开的这个对象\n\n      var selectedType = this.historyMsgListSelected.type || 0;\n      var id = this.historyMsgListSelected.id || 0;\n      var unMsgCount = 1;\n      var historyType = 2; // 判断是不是聊天窗口的消息\n\n      if (selectedType === historyType && id === receiveId) {\n        var _user2 = {\n          uid: uid,\n          name: name,\n          avatar: avatar\n        };\n        this.pushChatMsgList(msgType, msgContent, _user2, createTime);\n        unMsgCount = 0; // 如果超过 多少 个消息，则做一次 ACK 消息的操作\n\n        this.chatCount += 1;\n\n        if (this.chatCount >= this.chatMaxCount) {\n          this.chatCount = 0; // 清空消息\n\n          this.msgClearUnMsgCount(historyType, id);\n        } // 入群消息\n\n\n        if (isJoinGroup) {\n          var chatMsgGroupUserList = Object.assign({}, this.chatMsgGroupUserList);\n          chatMsgGroupUserList[_user2.uid] = _user2;\n          this.chatMsgGroupUserList = chatMsgGroupUserList;\n        }\n      }\n\n      var groupItem = this.userGroupList[receiveId];\n      name = groupItem.group ? groupItem.group.name : \"gd\" + receiveId;\n      remark = groupItem.group ? groupItem.group.remark : \"\";\n      avatar = groupItem.group ? groupItem.group.avatar : \"\";\n      this.pushHistoryMsg(historyType, receiveId, name, remark, avatar, msgContent, unMsgCount, createTime);\n    },\n    // 发送ws消息\n    webSocketSend: function webSocketSend(payload) {\n      // 加入登录验证\n      payload.uid = parseInt(this.getUid());\n      payload.sid = this.getSid();\n      var buffer = this.WSResEncode(payload);\n      this.webSocket.send(buffer);\n    },\n    // 发送按钮点击\n    sendBtnClick: function sendBtnClick() {\n      var _this22 = this;\n\n      if (!this.chatText || this.chatText === \"\" || /^[ ]+$/.test(this.chatText)) {\n        return false;\n      }\n\n      var item = this.historyMsgListSelected;\n      var msgType = 0; // 文本消息\n\n      if (item.type === 1) {\n        // 发送\n        var postData = {\n          receiverUid: item.id,\n          msgType: msgType,\n          msgContent: this.chatText\n        };\n        userFriendMsgCreate(this.apiBaseUrl, postData).then(function (response) {\n          if (response.code !== 0) {\n            _this22.requestErr(response.code, response.message);\n\n            return false;\n          }\n\n          _this22.receiveMessage(item.type, item.id, item.name, item.remark, item.avatar, msgType, _this22.user, _this22.chatText, new Date());\n\n          _this22.chatText = \"\";\n        }).catch(function () {});\n        return false;\n      }\n\n      if (item.type === 2) {\n        var _postData = {\n          groupId: item.id,\n          msgType: msgType,\n          msgContent: this.chatText\n        };\n        userGroupMsgCreate(this.apiBaseUrl, _postData).then(function (response) {\n          if (response.code !== 0) {\n            _this22.requestErr(response.code, response.message);\n\n            return false;\n          }\n\n          _this22.receiveMessage(item.type, item.id, item.name, item.remark, item.avatar, msgType, _this22.user, _this22.chatText, new Date());\n\n          _this22.chatText = \"\";\n        }).catch(function () {});\n        return false;\n      }\n    },\n    // 接收消息的追加\n    receiveMessage: function receiveMessage(type, id, name, remark, avatar, msgType, user, msgContent, createTime) {\n      // 是否自动滚动到底部\n      this.chatMsgListScrollTop = true;\n      var data = {};\n      data.isMine = this.user.uid === user.uid;\n\n      if (this.historyMsgListSelected !== null) {\n        data.msgType = msgType;\n        data.user = user;\n        data.msgContent = this.createContent(msgContent);\n        data.createTime = this.formatDate(createTime, \"yyyy/MM/dd hh:mm:ss\");\n        this.chatMsgList.push(data);\n      }\n\n      var lastMsgContent = msgContent;\n\n      switch (msgType) {\n        case 1:\n          lastMsgContent = \"[图片消息]\";\n          break;\n\n        case 2:\n          lastMsgContent = \"[文件消息]\";\n          break;\n\n        case 3:\n          lastMsgContent = \"[语言消息]\";\n          break;\n\n        case 4:\n          lastMsgContent = \"[视频消息]\";\n          break;\n      }\n\n      var unMsgCount = data.isMine ? 0 : 1; // 更新最后一次接收的消息\n\n      this.pushHistoryMsg(type, id, name, remark, avatar, lastMsgContent, unMsgCount, createTime);\n    },\n    // 格式化文本消息, 这里主要做表情的筛选\n    createContent: function createContent(text) {\n      if (typeof text === \"string\") {\n        text = this.htmlSpecialChars(text);\n        var html = text\n        /* eslint-disable */\n        .replace(/:emoji\\[([^\\s\\[\\]]+?)\\]/g, function (emoji) {\n          // 转义表情\n          var emojiId = \"emoji_\" + emoji.replace(/^:emoji/g, \"\");\n          return document.getElementById(emojiId).innerHTML + \"&nbsp;\";\n        }).replace(/\\n/g, \"<br>\");\n        return html;\n      }\n\n      return text;\n    },\n    getDate: function getDate(dateStr) {\n      var date = new Date(dateStr);\n\n      if (isNaN(date.getDate())) {\n        // 说明有可能是手机端, 做一下处理\n        dateStr = dateStr.replace(/T/g, ' ');\n        dateStr = dateStr.replace(/-/g, '/');\n        dateStr = dateStr.replace(/\\.\\d+/, ' ');\n        date = new Date(dateStr); // 如果还是转换不了\n\n        if (isNaN(date.getDate())) {\n          return null;\n        }\n      }\n\n      return date;\n    },\n    // 日期的格式化\n    formatDate: function formatDate(dateStr, fmt) {\n      if (!dateStr) {\n        return \"\";\n      }\n\n      var date = this.getDate(dateStr);\n\n      if (!date) {\n        return \"\";\n      }\n\n      if (!fmt) {\n        fmt = \"yyyy-MM-dd\";\n      }\n\n      var o = {\n        \"M+\": date.getMonth() + 1,\n        //月份\n        \"d+\": date.getDate(),\n        //日\n        \"h+\": date.getHours(),\n        //小时\n        \"m+\": date.getMinutes(),\n        //分\n        \"s+\": date.getSeconds(),\n        //秒\n        \"q+\": Math.floor((date.getMonth() + 3) / 3),\n        //季度\n        S: date.getMilliseconds() //毫秒\n\n      };\n      if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (date.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n\n      for (var k in o) {\n        if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\n      }\n\n      return fmt;\n    },\n    htmlSpecialChars: function htmlSpecialChars(str) {\n      str = str.replace(/&/g, \"&amp;\");\n      str = str.replace(/</g, \"&lt;\");\n      str = str.replace(/>/g, \"&gt;\");\n      str = str.replace(/\"/g, \"&quot;\");\n      str = str.replace(/'/g, \"&#039;\");\n      return str;\n    },\n    // 弹出浏览器通知\n    notification: function notification(id, title, content, icon) {\n      var Notification = window.Notification || window.mozNotification || window.webkitNotification; // 判断浏览器是否支持桌面通知\n\n      if (Notification && Notification.permission === \"granted\") {\n        var notification = new Notification(title, {\n          body: content,\n          icon: icon\n        });\n\n        notification.onclick = function () {\n          // 点击了通知消息\n          notification.close();\n        };\n      }\n    },\n    // 主面板的移动\n    moveImBox: function moveImBox(e) {\n      // let ele = e.target;\n      //算出鼠标相对元素的位置\n      var _this = this; // let disX = e.clientX - ele.offsetLeft;\n      // let disY = e.clientY - ele.offsetTop;\n\n\n      var disX = e.clientX - this.$refs.imBox.offsetLeft;\n      var disY = e.clientY - this.$refs.imBox.offsetTop;\n      _this.isMove = true;\n\n      document.onmousemove = function (e) {\n        //鼠标按下并移动的事件\n        //用鼠标的位置减去鼠标相对元素的位置，得到元素的位置\n        var left = e.clientX - disX;\n        var top = e.clientY - disY; //绑定元素位置到positionX和positionY上面\n\n        _this.imBoxPositionY = left + 'px';\n        _this.imBoxPositionX = top + 'px';\n      };\n\n      document.onmouseup = function (e) {\n        _this.isMove = false;\n        document.onmousemove = null;\n        document.onmouseup = null;\n      };\n    },\n    // 聊天界面的移动\n    moveChatMsg: function moveChatMsg(e) {\n      // let ele = e.target;\n      //算出鼠标相对元素的位置\n      var _this = this; // let disX = e.clientX - ele.offsetLeft;\n      // let disY = e.clientY - ele.offsetTop;\n\n\n      var disX = e.clientX - this.$refs.imChatBox.offsetLeft;\n      var disY = e.clientY - this.$refs.imChatBox.offsetTop;\n      var disW = this.$refs.imChatBox.clientWidth;\n      var disH = this.$refs.imChatBox.clientHeight;\n      _this.isMove = true;\n\n      document.onmousemove = function (e) {\n        // 鼠标按下并移动的事件\n        // 用鼠标的位置减去鼠标相对元素的位置，得到元素的位置\n        var left = e.clientX - disX;\n        var top = e.clientY - disY; // 判断是否到了临界值, 因为用了 transform: translate(-50%, -50%); 所以要除 2\n\n        if (top > disH / 2 && _this.clientHeight - top > disH / 2) {\n          _this.chatMsgListPositionX = top + 'px';\n        }\n\n        if (left > disW / 2 && _this.clientWidth - left > disW / 2) {\n          _this.chatMsgListPositionY = left + 'px';\n        }\n      };\n\n      document.onmouseup = function (e) {\n        _this.isMove = false;\n        document.onmousemove = null;\n        document.onmouseup = null;\n      };\n    }\n  },\n  directives: {\n    focus: {\n      update: function update(el, _ref) {\n        var value = _ref.value;\n\n        if (value) {\n          el.focus();\n        }\n      }\n    }\n  },\n  filters: {\n    getDefaultAvatar: function getDefaultAvatar(avatar) {\n      if (avatar === null || avatar === \"\" || avatar === \"\") {\n        return \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWAgMAAABBb5lxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURUxpcfDw8OPj4+Dg4FOJnTQAAAABdFJOUwBA5thmAAABUElEQVRYw+3Yy22EMBAGYDpLFUMOPlCCS3AVrmNLYJugBB9yy4UDKwHJhhj5Mdj/slYekn3+NPJ4PGNB87ICq2kQtV4x9l5ZZZVV9hvsjdpLnk30ufosG+6sy7HlrqjNsfGLkcqwYWMyw/TGXtNs21q8uYDN34zSbLKsT7LRMoUxmWQGY4NlXQmmLRM/yKwKi3qO6aLR/jJ7NFOB3RBR4iKZB5kq0Vlgny5Y1y8EjRpbBoHNty7DDDYGwaE6s4meneQrex5nn48tVZllI5fowdOmsGh90WiqVKbguWFVAEuP3TfwPQX7dJ9IbYrt3Ux0STBNBwPOY06woPwe0y4TR2wmbx0x4zPJs8VX3pk4bAyYG85hOmSCYxNFq2eYiZlkWKyc27mzhWEUs4ljfcRGjsmIDU+wrrJCzGBVYEuvInZjVFu/ASurrLL/y64N9sv6AwiKosleKgwtAAAAAElFTkSuQmCC\";\n      }\n\n      return avatar;\n    },\n    askAckStatusFilterName: function askAckStatusFilterName(index) {\n      var map = {\n        0: \"确认\",\n        1: \"已添加\",\n        2: \"已拒绝\"\n      };\n      return map[index];\n    }\n  },\n  mounted: function mounted() {\n    var _this23 = this;\n\n    // 获取浏览器可视区域高度\n    this.clientHeight = \"\".concat(document.documentElement.clientHeight);\n    this.clientWidth = \"\".concat(document.documentElement.clientWidth);\n\n    this.__resizeHandler = function () {\n      _this23.clientHeight = \"\".concat(document.documentElement.clientHeight);\n      _this23.clientWidth = \"\".concat(document.documentElement.clientWidth);\n    }; // 添加事件\n\n\n    window.addEventListener(\"resize\", this.__resizeHandler);\n  },\n  // 组件销毁\n  beforeDestroy: function beforeDestroy() {\n    // 移除事件\n    window.removeEventListener(\"resize\", this.__resizeHandler);\n  },\n  created: function created() {\n    // 判断是否自动初始化\n    if (this.isAutoInit) {\n      this.init();\n    }\n  },\n  computed: {\n    imBoxStyle: function imBoxStyle() {\n      var data = {};\n\n      if (this.width) {\n        data.width = this.width;\n      }\n\n      if (this.height) {\n        data.height = this.height;\n      }\n\n      if (this.top) {\n        data.top = this.top;\n      }\n\n      if (this.left) {\n        data.left = this.left;\n      }\n\n      if (this.bottom) {\n        data.bottom = this.bottom;\n      }\n\n      if (this.right) {\n        data.right = this.right;\n      }\n\n      if (this.imBoxPositionX && this.isShow) {\n        data.top = this.imBoxPositionX;\n      }\n\n      if (this.imBoxPositionY && this.isShow) {\n        data.left = this.imBoxPositionY;\n      }\n\n      data = _objectSpread({}, data, this.themeSelected);\n      return data;\n    },\n    imChatBoxStyle: function imChatBoxStyle() {\n      var data = {};\n      data = _objectSpread({\n        top: this.chatMsgListPositionX,\n        left: this.chatMsgListPositionY\n      }, this.themeSelected);\n      return data;\n    },\n    sortHistoryMsgList: function sortHistoryMsgList() {\n      var _this24 = this;\n\n      var historyMsgList = [];\n      var historyMsgListKeys = Object.keys(this.historyMsgList).sort(function (a, b) {\n        var aItem = _this24.historyMsgList[a];\n        var bItem = _this24.historyMsgList[b];\n\n        var aDate = _this24.getDate(aItem.modifiedTime);\n\n        if (!aDate) {\n          return -1;\n        }\n\n        var bDate = _this24.getDate(bItem.modifiedTime);\n\n        if (!bDate) {\n          return 1;\n        }\n\n        return bDate.getTime() - aDate.getTime();\n      }).map(function (v) {\n        historyMsgList.push(_this24.historyMsgList[v]);\n      });\n      return historyMsgList;\n    }\n  },\n  watch: {\n    chatMsgList: function chatMsgList() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        var chatMsgList = document.getElementById(\"chatMsgList\");\n\n        if (_this.chatMsgListScrollTop) {\n          chatMsgList.scrollTop = chatMsgList.scrollHeight;\n        }\n      });\n    }\n  },\n  // 组件销毁时触发\n  destroyed: function destroyed() {\n    // 关闭 websocket 链接\n    this.wsOut();\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div style=\"position: fixed; user-select:none;\">\n\n        <div class=\"im-move\" v-show=\"isMove\"></div>\n\n        <div class=\"im-box\" :class=\"isShow ? 'im-box-show' : ''\"\n             :style=\"imBoxStyle\"\n             ref=\"imBox\">\n            <div class=\"im-box-move\" @mousedown=\"moveImBox\"></div>\n\n            <div class=\"im-box-confirm-box\" v-if=\"confirm.isShow\" @click=\"confirm.isShow = false\">\n                <div class=\"im-box-confirm\">\n                    <div class=\"im-box-confirm-header\">\n                        <div class=\"im-box-confirm-title\">{{confirm.title}}</div>\n                    </div>\n                    <div class=\"im-box-confirm-content\">\n                        <div class=\"im-box-confirm-message\">{{confirm.message}}</div>\n                    </div>\n                    <div class=\"im-box-confirm-buttons\">\n                        <div class=\"im-box-confirm-button im-box-confirm-cancel\" @click=\"confirm.cancelHandle()\">{{confirm.cancelName}}</div>\n                        <div class=\"im-box-confirm-button im-box-confirm-ok\" @click=\"confirm.okHandle()\">{{confirm.okName}}</div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"user-qrcode-box\" v-if=\"userQRCodeVisible\" @click=\"userQRCodeCloseHandle\">\n                <div class=\"user-qrcode\">\n                    <img :src=\"userQRCodeImg\" alt=\"\" style=\"display: block;\" @click.stop=\"downloadImg(userQRCodeImg)\">\n                    <div class=\"user-qrcode-download\" @click.stop=\"downloadImg(userQRCodeImg)\">点击/长按保存二维码</div>\n                    <div class=\"user-uid\" @click.stop=\"\">用户ID: {{user.uid}}</div>\n                </div>\n            </div>\n\n            <div class=\"user-login-box\" v-if=\"!user.uid\" @click=\"isShowClick\">\n                <div class=\"user-login-list\">\n                    <a class=\"user-login-button\" href=\"javascript:\" @click=\"touristLogin(2)\">\n                        <img src=\"./image/user-2-default.png\" alt=\"女游客登录\">\n                        <span>女游客</span>\n                    </a>\n                    <a class=\"user-login-button\" href=\"javascript:\" @click=\"touristLogin(1)\">\n                        <img src=\"./image/user-1-default.png\" alt=\"男游客登录\">\n                        <span>男游客</span>\n                    </a>\n                    <a class=\"user-login-button\" href=\"javascript:\" @click=\"qqLoginClick\">\n                        <img src=\"./image/login-qq.png\" alt=\"QQ登录\">\n                        <span>QQ登录</span>\n                    </a>\n                </div>\n            </div>\n\n            <header class=\"im-panel-header\">\n                <div class=\"im-header-user\">\n                    <img class=\"im-header-user-avatar\" :src=\"user.avatar | getDefaultAvatar\" alt=\"头像\">\n                    <div class=\"im-header-user-content\">\n                        <div class=\"im-header-user-name\" :title=\"user.name\">\n                            {{ user.name }}\n                        </div>\n                        <div class=\"im-header-user-remark\" :title=\"user.remark\">\n                            {{ user.remark }}\n                        </div>\n                    </div>\n                </div>\n                <div class=\"im-header-setwin\">\n                    <div class=\"im-header-out-login\" @click=\"userOutClick\" title=\"登出\">\n                        <img src=\"./image/out-login.png\" alt=\"登出\" style=\"width: 100%; height: 100%;\">\n                    </div>\n                    <div class=\"im-header-qrcode-box\" @click=\"userQRCodeClick\">\n                        <img src=\"./image/qrcode.png\" alt=\"二维码\" title=\"二维码\" style=\"width: 100%; height: 100%;\">\n                    </div>\n                    <i class=\"im-icon im-icon-ring-open\"></i>\n                    <i class=\"im-icon im-icon-panel-down\" @click=\"isShowClick\"></i>\n                </div>\n            </header>\n\n            <nav class=\"im-tab-nav\">\n                <ul class=\"im-tab\">\n                    <li v-for=\"item in imTabList\"\n                        :key=\"item.index\"\n                        class=\"im-tab-item\"\n                        :class=\"{'im-tab-item-selected': item.isSelected}\"\n                        @click=\"imTabSelectedHandle(item.index)\">\n                        {{ item.title }}\n                        <div class=\"im-tab-badge\"\n                             v-if=\"item.index === 1 && user.profile.friendAskCount > 0\">\n                            new\n                        </div>\n                    </li>\n                </ul>\n            </nav>\n\n            <!-- 历史消息-->\n            <main class=\"im-panel-body\" v-if=\"imTabSelectedIndex === 0\">\n                <div class=\"im-user-warning-box\" v-if=\"!webSocketIsOpen\">\n                    <div class=\"im-chat-warning\" style=\"top: 0;\" v-html=\"webSocketWarningText\"></div>\n                </div>\n                <div class=\"im-chat-reconnect\" v-if=\"!webSocketIsReconnect\">\n                    <a href=\"javascript:\" @click=\"init\">重新连接</a>\n                </div>\n                <div class=\"im-panel-searchbar\">\n                    <div class=\"im-panel-searchbar-inner\">\n                        <img src=\"./image/search.png\" class=\"im-panel-search\">\n                        <input type=\"search\" placeholder=\"搜索\" class=\"im-panel-searchbar-core\">\n                    </div>\n                </div>\n\n                <div class=\"im-list-empty\" v-if=\"Object.keys(historyMsgList).length === 0\">\n                    暂无数据\n                </div>\n\n                <ul class=\"im-panel-user-list\">\n\n                    <template v-for=\"(item) in sortHistoryMsgList\">\n                        <li @click=\"handleChat(item)\" :key=\"item.type + item.id\">\n                            <div class=\"im-user-left\">\n                                <img :src=\"item.avatar | getDefaultAvatar\" alt=\"\" class=\"im-user-avatar\">\n                            </div>\n                            <div class=\"im-user-right\">\n                                <div class=\"im-user-info\">\n                                <span class=\"im-user-name\" :title=\"item.name\">\n                                    {{ item.name }}\n                                </span>\n                                    <span class=\"im-user-remark\" :title=\"item.lastMsgContent\">\n                                    {{ item.lastMsgContent }}\n                                </span>\n                                </div>\n                            </div>\n                            <div class=\"im-panel-badge\" v-if=\"item.unMsgCount > 0\">{{ item.unMsgCount > 99 ? '99+' : item.unMsgCount }}</div>\n                        </li>\n                    </template>\n                </ul>\n\n            </main>\n\n            <!-- 朋友-->\n            <main class=\"im-panel-body\"  v-if=\"imTabSelectedIndex === 1\">\n\n                <div class=\"im-new-friend\" @click=\"newFriendClick\">\n                    <span>{{ newFriendVisible ? '返回' : '新的朋友'}}</span>\n                    <span style=\"color: red;\" v-if=\"!newFriendVisible && user.profile.friendAskCount > 0\">\n                        {{user.profile.friendAskCount}}\n                    </span>\n                </div>\n\n                <div class=\"im-list-empty\"\n                     v-if=\"(newFriendVisible && newFriendList.length === 0)\n                            || (!newFriendVisible && Object.keys(userFriendList).length === 0)\">\n                    暂无数据\n                </div>\n\n                <ul class=\"im-panel-user-list\" v-if=\"!newFriendVisible\">\n\n                    <template v-for=\"(item) in userFriendList\">\n                        <li @click=\"friendClick(item)\" :key=\"item.friendUid\">\n                            <div class=\"im-user-left\">\n                                <img :src=\"item.user.avatar | getDefaultAvatar\" alt=\"\" class=\"im-user-avatar\">\n                            </div>\n                            <div class=\"im-user-right\">\n                                <div class=\"im-user-info\">\n                                <span class=\"im-user-name\" :title=\"item.remark ? item.remark : item.user.name\">\n                                    {{ item.remark ? item.remark : item.user.name }}\n                                </span>\n                                    <span class=\"im-user-remark\" :title=\"item.user.remark\">\n                                    {{ item.user.remark }}\n                                </span>\n                                </div>\n                            </div>\n                        </li>\n                    </template>\n                </ul>\n\n                <div v-if=\"newFriendVisible\">\n                    <ul class=\"im-panel-user-list\">\n\n                        <template v-for=\"item in newFriendList\">\n                            <li :key=\"item.id\">\n                                <div class=\"im-user-left\">\n                                    <img :src=\"item.user && item.user.avatar | getDefaultAvatar\" alt=\"\" class=\"im-user-avatar\">\n                                </div>\n                                <div class=\"im-user-right\">\n                                    <div class=\"im-user-info\">\n                                <span class=\"im-user-name\" :title=\"item.user && item.user.name\">\n                                    {{ item.user && item.user.name }}\n                                </span>\n                                        <span class=\"im-user-remark\" :title=\"item.remark\">\n                                    {{ item.remark }}\n                                </span>\n                                    </div>\n                                </div>\n                                <div class=\"im-user-button\" :style=\"{color: item.status !== 0 ? '#ccc' : ''}\">\n                                    <span @click=\"askAck(item, 1)\">{{ item.status | askAckStatusFilterName }}</span>\n                                    <span v-if=\"item.status === 0\" @click=\"askAck(item, 2)\" style=\"margin-left: 3px;\">拒绝</span>\n                                </div>\n                            </li>\n                        </template>\n                    </ul>\n                    <div v-if=\"newFriendList.length !== 0\" class=\"im-new-friend-list-more\" @click=\"getUserFriendAskList\">\n                        {{ newFriendLoadMore ? '加载更多' : '没有更多了'}}\n                    </div>\n                </div>\n\n            </main>\n\n            <!-- 群组-->\n            <main class=\"im-panel-body\"  v-if=\"imTabSelectedIndex === 2\">\n\n                <div class=\"im-group-create\">\n                    <input type=\"text\" v-show=\"createGroupVisible\" v-model=\"createGroupName\" placeholder=\"输入群昵称\" style=\"\">\n                    <span class=\"im-group-create-button\" @click=\"createGroup\">{{ createGroupVisible ? '提交' : '新建'}}</span>\n                    <span class=\"im-group-create-button\"  v-show=\"createGroupVisible\" @click=\"createGroupClose\">取消</span>\n                </div>\n\n                <div class=\"im-list-empty\" v-if=\"Object.keys(userGroupList).length === 0\">\n                    暂无数据\n                </div>\n\n                <ul class=\"im-panel-user-list\">\n\n                    <template v-for=\"(item) in userGroupList\">\n                        <li @click=\"groupClick(item)\" :key=\"item.groupId\">\n                            <div class=\"im-user-left\">\n                                <img :src=\"item.group.avatar | getDefaultAvatar\" alt=\"\" class=\"im-user-avatar\">\n                            </div>\n                            <div class=\"im-user-right\">\n                                <div class=\"im-user-info\">\n                                <span class=\"im-user-name\" :title=\"item.group.name\">\n                                    {{ item.group.name }}\n                                </span>\n                                    <span class=\"im-user-remark\" :title=\"item.group.remark\">\n                                    {{ item.group.remark }}\n                                </span>\n                                </div>\n                            </div>\n                        </li>\n                    </template>\n                </ul>\n\n            </main>\n\n            <footer class=\"im-panel-footer\">\n                <div class=\"im-panel-theme\" @click=\"themeVisible = !themeVisible\">\n                    <img src=\"./image/theme.png\" alt=\"更换主题\">\n                </div>\n                <div class=\"im-panel-theme-list\" v-if=\"themeVisible\">\n                    <div class=\"im-panel-theme-item\" v-for=\"(item, index) in themeList\" :key=\"index\" @click=\"changeTheme(index, true)\">\n                        <div v-if=\"item['background-image']\" :style=\"item\"></div>\n                        <div v-else></div>\n                    </div>\n                </div>\n            </footer>\n\n        </div>\n\n        <!--聊天界面-->\n        <div class=\"im-chat-box\" v-show=\"chatVisible\" :style=\"imChatBoxStyle\" ref=\"imChatBox\">\n\n            <div class=\"group-qrcode-box\" v-if=\"groupQRCodeVisible\" @click=\"groupQRCodeCloseHandle\">\n                <div class=\"group-qrcode\">\n                    <img :src=\"groupQRCodeImg\" alt=\"\" style=\"display: block;\" @click.stop=\"downloadImg(groupQRCodeImg)\">\n                    <div class=\"group-qrcode-download\" @click.stop=\"downloadImg(groupQRCodeImg)\">点击/长按保存二维码</div>\n                    <div class=\"group-id\" @click.stop=\"\">群ID: {{historyMsgListSelected.id}}</div>\n                </div>\n            </div>\n\n            <div class=\"user-login-box\" v-if=\"!user.uid\">\n                <div class=\"user-login-list\">\n                    <a class=\"user-login-button\" href=\"javascript:\" @click=\"touristLogin(2)\">\n                        <img src=\"./image/user-2-default.png\" alt=\"女游客登录\">\n                        <span>女游客</span>\n                    </a>\n                    <a class=\"user-login-button\" href=\"javascript:\" @click=\"touristLogin(1)\">\n                        <img src=\"./image/user-1-default.png\" alt=\"男游客登录\">\n                        <span>男游客</span>\n                    </a>\n                    <a class=\"user-login-button\" href=\"javascript:\" @click=\"qqLoginClick\">\n                        <img src=\"./image/login-qq.png\" alt=\"QQ登录\">\n                        <span>QQ登录</span>\n                    </a>\n                </div>\n            </div>\n\n            <header class=\"im-chat-header\">\n                <div class=\"im-chat-move\" @mousedown=\"moveChatMsg\"></div>\n                <div class=\"im-chat-user\">\n                    <img :src=\"chatUser.avatar | getDefaultAvatar\" alt=\"\" class=\"im-chat-user-avatar\">\n                    <div class=\"im-chat-user-info\">\n                        <span class=\"im-chat-user-name\" :title=\"chatUser.name\">\n                            {{ chatUser.name }}\n                        </span>\n                        <span class=\"im-chat-user-list-button\" v-if=\"Object.keys(chatMsgGroupUserList).length > 0\">\n                            {{Object.keys(chatMsgGroupUserList).length}}人\n                        </span>\n                        <i class=\"im-icon im-icon-panel-down\" v-if=\"chatUser.type === 2\" @click=\"isShowGroupUserListClick\"></i>\n                        <span class=\"im-chat-user-remark\" :title=\"chatUser.remark\">\n                            {{ chatUser.remark }}\n                        </span>\n                    </div>\n                </div>\n                <div class=\"im-chat-setwin\">\n                    <div class=\"im-icon-close\" style=\"cursor: pointer;\" @click=\"groupQRCodeClick\" v-if=\"historyMsgListSelected.type === 2\">\n                        <img src=\"./image/qrcode.png\" alt=\"二维码\" title=\"二维码\" style=\"width: 100%; height: 100%;vertical-align: text-bottom;\">\n                    </div>\n                    <i class=\"im-icon im-icon-close\" @click=\"closeChat\"></i>\n                </div>\n                <div class=\"im-chat-warning\" v-if=\"!webSocketIsOpen\" v-html=\"webSocketWarningText\"></div>\n            </header>\n\n            <nav style=\"display: none;\">\n                <div id=\"emoji_[smile]\"><img src=\"./emoji/smile.png\" class=\"im-chat-msg-emoji\" title=\"smile\" alt=\"smile\"></div>\n                <div id=\"emoji_[laughing]\"><img src=\"./emoji/laughing.png\" class=\"im-chat-msg-emoji\" title=\"laughing\" alt=\"laughing\"></div>\n                <div id=\"emoji_[blush]\"><img src=\"./emoji/blush.png\" class=\"im-chat-msg-emoji\" title=\"blush\" alt=\"blush\"></div>\n                <div id=\"emoji_[heart_eyes]\"><img src=\"./emoji/heart_eyes.png\" class=\"im-chat-msg-emoji\" title=\"heart_eyes\" alt=\"heart_eyes\"></div>\n                <div id=\"emoji_[smirk]\"><img src=\"./emoji/smirk.png\" class=\"im-chat-msg-emoji\" title=\"smirk\" alt=\"smirk\"></div>\n                <div id=\"emoji_[flushed]\"><img src=\"./emoji/flushed.png\" class=\"im-chat-msg-emoji\" title=\"flushed\" alt=\"flushed\"></div>\n                <div id=\"emoji_[grin]\"><img src=\"./emoji/grin.png\" class=\"im-chat-msg-emoji\" title=\"grin\" alt=\"grin\"></div>\n                <div id=\"emoji_[kissing_smiling_eyes]\"><img src=\"./emoji/kissing_smiling_eyes.png\" class=\"im-chat-msg-emoji\" title=\"kissing_smiling_eyes\" alt=\"kissing_smiling_eyes\"></div>\n                <div id=\"emoji_[wink]\"><img src=\"./emoji/wink.png\" class=\"im-chat-msg-emoji\" title=\"wink\" alt=\"wink\"></div>\n                <div id=\"emoji_[kissing_closed_eyes]\"><img src=\"./emoji/kissing_closed_eyes.png\" class=\"im-chat-msg-emoji\" title=\"kissing_closed_eyes\" alt=\"kissing_closed_eyes\"></div>\n                <div id=\"emoji_[stuck_out_tongue_winking_eye]\"><img src=\"./emoji/stuck_out_tongue_winking_eye.png\" class=\"im-chat-msg-emoji\" title=\"stuck_out_tongue_winking_eye\" alt=\"stuck_out_tongue_winking_eye\"></div>\n                <div id=\"emoji_[sleeping]\"><img src=\"./emoji/sleeping.png\" class=\"im-chat-msg-emoji\" title=\"sleeping\" alt=\"sleeping\"></div>\n                <div id=\"emoji_[worried]\"><img src=\"./emoji/worried.png\" class=\"im-chat-msg-emoji\" title=\"worried\" alt=\"worried\"></div>\n                <div id=\"emoji_[sweat_smile]\"><img src=\"./emoji/sweat_smile.png\" class=\"im-chat-msg-emoji\" title=\"sweat_smile\" alt=\"sweat_smile\"></div>\n                <div id=\"emoji_[cold_sweat]\"><img src=\"./emoji/cold_sweat.png\" class=\"im-chat-msg-emoji\" title=\"cold_sweat\" alt=\"cold_sweat\"></div>\n                <div id=\"emoji_[joy]\"><img src=\"./emoji/joy.png\" class=\"im-chat-msg-emoji\" title=\"joy\" alt=\"joy\"></div>\n                <div id=\"emoji_[sob]\"><img src=\"./emoji/sob.png\" class=\"im-chat-msg-emoji\" title=\"sob\" alt=\"sob\"></div>\n                <div id=\"emoji_[angry]\"><img src=\"./emoji/angry.png\" class=\"im-chat-msg-emoji\" title=\"angry\" alt=\"angry\"></div>\n                <div id=\"emoji_[mask]\"><img src=\"./emoji/mask.png\" class=\"im-chat-msg-emoji\" title=\"mask\" alt=\"mask\"></div>\n                <div id=\"emoji_[scream]\"><img src=\"./emoji/scream.png\" class=\"im-chat-msg-emoji\" title=\"scream\" alt=\"scream\"></div>\n                <div id=\"emoji_[sunglasses]\"><img src=\"./emoji/sunglasses.png\" class=\"im-chat-msg-emoji\" title=\"sunglasses\" alt=\"sunglasses\"></div>\n                <div id=\"emoji_[thumbsup]\"><img src=\"./emoji/thumbsup.png\" class=\"im-chat-msg-emoji\" title=\"thumbsup\" alt=\"thumbsup\"></div>\n                <div id=\"emoji_[clap]\"><img src=\"./emoji/clap.png\" class=\"im-chat-msg-emoji\" title=\"clap\" alt=\"clap\"></div>\n                <div id=\"emoji_[ok_hand]\"><img src=\"./emoji/ok_hand.png\" class=\"im-chat-msg-emoji\" title=\"ok_hand\" alt=\"ok_hand\"></div>\n            </nav>\n\n            <div class=\"im-chat-user-list\" v-if=\"chatMsgGroupUserVisible\">\n                <div class=\"im-chat-user-list-item\" v-for=\"item in chatMsgGroupUserList\" :key=\"item.user.uid\">\n                    <img :src=\"item.user.avatar | getDefaultAvatar\">\n                    <cite>{{item.user.name}}</cite>\n                </div>\n            </div>\n\n            <main class=\"im-chat-main\" id=\"chatMsgList\">\n                <a class=\"im-list-more\" @click=\"getChatMsgList\">{{ chatMsgListHandleMoreText }}</a>\n                <template v-for=\"(item, index) in chatMsgList\">\n                    <div class=\"im-chat-msg-box\" :class=\"item.isMine ? 'im-chat-msg-mine' : ''\" :key=\"index\">\n                        <div class=\"im-chat-msg-user\">\n                            <img :src=\"item.user.avatar | getDefaultAvatar\">\n                            <div class=\"im-chat-msg-user-remark\" v-if=\"item.isMine\">\n                                <i>{{ item.createTime }}</i><span>{{ item.user.name }}</span>\n                            </div>\n                            <div class=\"im-chat-msg-user-remark\" v-else>\n                                <span>{{ item.user.name }}</span><i>{{ item.createTime }}</i>\n                            </div>\n                        </div>\n                        <div class=\"im-chat-msg-text\" v-html=\"item.msgContent\"></div>\n                    </div>\n                </template>\n\n            </main>\n\n            <footer class=\"im-chat-footer\">\n                <div class=\"im-chat-feature-holder\">\n                    <div class=\"im-chat-feature-btn-box\">\n                        <div class=\"im-chat-feature-btn im-icon im-icon-emoji im-emoji-box\" @click=\"handleEmoji\">\n                            <div class=\"im-emoji-holder\" v-if=\"emojiVisible\">\n                                <template v-for=\"(item, index) in emojiList\">\n                                    <i class=\"im-emoji-control\" :key=\"item.code\" @click=\"selectEmoji(item)\" :title=\"item.title\" :style=\"{backgroundPosition: '0 ' + index * -25 + 'px'}\"></i>\n                                </template>\n                            </div>\n                        </div>\n                        <div class=\"im-chat-feature-btn im-icon im-icon-photo\"></div>\n                        <div class=\"im-chat-feature-btn im-icon im-icon-upload\"></div>\n                    </div>\n                </div>\n                <div class=\"im-chat-text-holder\">\n                    <textarea placeholder=\"请输入\" ref=\"himChatText\" @blur=\"chatTextBlur\" v-model=\"chatText\"></textarea>\n                </div>\n                <div class=\"im-chat-send-box\">\n                    <div class=\"im-chat-send\">\n                        <div class=\"im-chat-send-btn\" @click=\"closeChat\">关闭</div>\n                        <div class=\"im-chat-send-btn\" @click=\"sendBtnClick\">发送</div>\n                    </div>\n                </div>\n            </footer>\n        </div>\n\n    </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Cookies from \"js-cookie\";\nimport { userLoginInfo, userQRCheckCode } from \"./api/userIndex\";\nimport { userFriendLists } from \"./api/userFriend\";\nimport { userLoginByTourist, userLoginByQq } from \"./api/userLogin\";\nimport {\n    userFriendMsgClearUnMsgCount,\n    userFriendMsgCreate,\n    userFriendMsgLists\n} from \"./api/userFriendMsg\";\nimport {\n    userFriendAskAck,\n    userFriendAskClearFriendAskCount,\n    userFriendAskCreate,\n    userFriendAskLists\n} from \"./api/userFriendAsk\";\nimport { userGroupCreate, userGroupLists } from \"./api/userGroup\";\nimport {\n    userGroupUserCheckCode,\n    userGroupUserClearUnMsgCount,\n    userGroupUserCreate,\n    userGroupUserDelete,\n    userGroupUserLists,\n    userGroupUserUpdate\n} from \"./api/userGroupUser\";\nimport { userGroupMsgCreate, userGroupMsgLists } from \"./api/userGroupMsg\";\n\nlet QRCode = require(\"qrcode\");\nexport default {\n    name: \"Him\",\n    props: {\n        isShow: {\n            type: Boolean,\n            default: true\n        },\n        width: {\n            type: String,\n            default: \"100%\"\n        },\n        height: {\n            type: String,\n            default: \"100%\"\n        },\n        top: String,\n        left: String,\n        bottom: String,\n        right: String,\n        apiBaseUrl: String,\n        webSocketUrl: String,\n        userQRCodeUrl: String, // 用户二维码的生成地址\n        groupQRCodeUrl: String, // 群二维码的生成地址\n        // 是否自动初始化\n        isAutoInit: {\n            type: Boolean,\n            default: true\n        },\n        // 尝试重新连接的最大次数\n        webSocketReconnectMaxCount: {\n            type: Number,\n            default: 5\n        },\n        // WebSocket 编码\n        WSResEncode: {\n            type: Function,\n            default: function(data) {\n                return JSON.stringify(data);\n            }\n        },\n        // WebSocket 编码\n        WSResDecode: {\n            type: Function,\n            default: function(data) {\n                return JSON.parse(data);\n            }\n        }\n    },\n    data() {\n        return {\n            themeList: [\n                {\n                    \"background-image\":\n                        \"url(\" + require(\"./image/bg-1.jpg\") + \")\",\n                    \"background-repeat\": \"no-repeat\",\n                    \"background-size\": \"cover\",\n                    \"background-color\": \"#f6f6f6\"\n                },\n                {\n                    \"background-image\":\n                        \"url(\" + require(\"./image/bg-2.jpg\") + \")\",\n                    \"background-repeat\": \"no-repeat\",\n                    \"background-size\": \"cover\",\n                    \"background-color\": \"#f6f6f6\"\n                },\n                {\n                    \"background-image\":\n                        \"url(\" + require(\"./image/bg-3.jpg\") + \")\",\n                    \"background-repeat\": \"no-repeat\",\n                    \"background-size\": \"cover\",\n                    \"background-color\": \"#f6f6f6\"\n                },\n                {\n                    \"background-image\":\n                        \"url(\" + require(\"./image/bg-4.jpg\") + \")\",\n                    \"background-repeat\": \"no-repeat\",\n                    \"background-size\": \"cover\",\n                    \"background-color\": \"#f6f6f6\"\n                },\n                {\n                    \"background-image\":\n                        \"url(\" + require(\"./image/bg-5.jpg\") + \")\",\n                    \"background-repeat\": \"no-repeat\",\n                    \"background-size\": \"cover\",\n                    \"background-color\": \"#f6f6f6\"\n                },\n                {\n                    \"background-repeat\": \"no-repeat\",\n                    \"background-size\": \"cover\",\n                    \"background-color\": \"#f6f6f6\"\n                }\n            ],\n            themeSelected: {\n                \"background-repeat\": \"no-repeat\",\n                \"background-size\": \"cover\",\n                \"background-color\": \"#f6f6f6\"\n            },\n            themeVisible: false,\n            imTabList: [\n                {\n                    index: 0,\n                    isSelected: true,\n                    title: \"消息\"\n                },\n                {\n                    index: 1,\n                    isSelected: false,\n                    title: \"朋友\"\n                },\n                {\n                    index: 2,\n                    isSelected: false,\n                    title: \"群组\"\n                }\n            ],\n            imTabSelectedIndex: 0, // 选中的index\n            userQRCodeImg: null,\n            userQRCodeVisible: false,\n            groupQRCodeImg: null,\n            groupQRCodeVisible: false,\n            isMove: false,\n            clientWidth: null,\n            clientHeight: null,\n            user: {\n                profile: {},\n                sid: null\n            },\n            imBoxPositionX: null,\n            imBoxPositionY: null,\n            userFriendList: {},\n            userFriendListLimit: 500, // 每次拉取多少好友\n            newFriendVisible: false,\n            newFriendQuery: {\n                page: 1,\n                limit: 20\n            },\n            newFriendList: [],\n            newFriendLoading: false,\n            newFriendLoadMore: true, // 是否还可以加载更多\n            userGroupList: {}, // 群列表\n            userGroupListLimit: 500, // 群列表每次拉取\n            historyMsgList: {},\n            historyMsgListSelected: {}, // 历史消息的选中值\n            createGroupName: \"\",\n            createGroupVisible: false,\n            chatVisible: false,\n            emojiList: [\n                {\n                    title: \"微笑\",\n                    code: \"smile\"\n                },\n                {\n                    title: \"发笑\",\n                    code: \"laughing\"\n                },\n                {\n                    title: \"害羞\",\n                    code: \"blush\"\n                },\n                {\n                    title: \"心眼\",\n                    code: \"heart_eyes\"\n                },\n                {\n                    title: \"傻笑\",\n                    code: \"smirk\"\n                },\n                {\n                    title: \"激动\",\n                    code: \"flushed\"\n                },\n                {\n                    title: \"咧嘴\",\n                    code: \"grin\"\n                },\n                {\n                    title: \"亲亲\",\n                    code: \"kissing_smiling_eyes\"\n                },\n                {\n                    title: \"眨眼\",\n                    code: \"wink\"\n                },\n                {\n                    title: \"害羞的亲亲\",\n                    code: \"kissing_closed_eyes\"\n                },\n                {\n                    title: \"调皮\",\n                    code: \"stuck_out_tongue_winking_eye\"\n                },\n                {\n                    title: \"晚安\",\n                    code: \"sleeping\"\n                },\n                {\n                    title: \"担心\",\n                    code: \"worried\"\n                },\n                {\n                    title: \"激动的微信\",\n                    code: \"sweat_smile\"\n                },\n                {\n                    title: \"冷汗\",\n                    code: \"cold_sweat\"\n                },\n                {\n                    title: \"笑哭\",\n                    code: \"joy\"\n                },\n                {\n                    title: \"哭泣\",\n                    code: \"sob\"\n                },\n                {\n                    title: \"愤怒\",\n                    code: \"angry\"\n                },\n                {\n                    title: \"生病\",\n                    code: \"mask\"\n                },\n                {\n                    title: \"尖叫\",\n                    code: \"scream\"\n                },\n                {\n                    title: \"墨镜\",\n                    code: \"sunglasses\"\n                },\n                {\n                    title: \"缩略图\",\n                    code: \"thumbsup\"\n                },\n                {\n                    title: \"鼓掌\",\n                    code: \"clap\"\n                },\n                {\n                    title: \"OK\",\n                    code: \"ok_hand\"\n                }\n            ],\n            emojiVisible: false,\n            chatUser: {},\n            chatTextFocus: false,\n            chatCount: 0, // 当前窗口收到的消息总量\n            chatText: \"\",\n            chatMsgListPositionX: null,\n            chatMsgListPositionY: null,\n            chatMsgList: [],\n            chatMsgListFriendQuery: {\n                senderUid: null,\n                page: 1,\n                limit: 25\n            },\n            chatMsgListGroupQuery: {\n                groupId: null,\n                page: 1,\n                limit: 25\n            },\n            chatMsgGroupUserList: {},\n            chatMsgGroupUserVisible: false,\n            chatMsgListScrollTop: true,\n            chatMsgListHandleLoading: false,\n            chatMsgListHandleMoreText: \"\",\n            chatMaxCount: 1, // 最大消息数, 用作有多少条消息就 ack 一次, 后期可以做成定时器\n            webSocket: null,\n            webSocketReconnectCount: 0,\n            webSocketIsReconnect: true, // 是否重连\n            webSocketWarningText:\n                \"连接断开,正在尝试重连 <i class='dotting'></i>\",\n            webSocketIsOpen: false,\n            // 心跳定时器\n            webSocketPingTimer: null,\n            webSocketPingTime: 10000, // 心跳的间隔，当前为 10秒,\n            confirm: {\n                isShow: false, // 是否显示\n                title: \"提示\", // 标题\n                message: \"确定执行吗?\", // 标题\n                okHandle: function() {}, // 确认的回调\n                okName: \"确认\", // 确认按钮的名称\n                cancelHandle: function() {}, // 取消的回调\n                cancelName: \"取消\" // 取消按钮的名称\n            }\n        };\n    },\n    methods: {\n        // 输入框的失去焦点事件, 解决微信中的bug\n        chatTextBlur() {\n            window.scroll(0, 0);\n        },\n        // 判断字符是否为空的方法\n        isEmpty(obj) {\n            return (\n                !obj || typeof obj === \"undefined\" || obj === null || obj === \"\"\n            );\n        },\n        // 设置 登录用户ID\n        setUid(value) {\n            Cookies.set(\"UID\", value, {\n                expires: 365,\n                path: \"/\"\n            });\n        },\n        getUid() {\n            let uid = Cookies.get(\"UID\", {\n                path: \"/\"\n            });\n            if (this.isEmpty(uid)) {\n                return null;\n            }\n            return uid;\n        },\n        delUid() {\n            Cookies.remove(\"UID\", {\n                path: \"/\"\n            });\n        },\n        setSid(value) {\n            Cookies.set(\"SID\", value, {\n                expires: 365,\n                path: \"/\"\n            });\n        },\n        getSid() {\n            let sid = Cookies.get(\"SID\", {\n                path: \"/\"\n            });\n            if (this.isEmpty(sid)) {\n                return null;\n            }\n            return sid;\n        },\n        delSid() {\n            Cookies.remove(\"SID\", {\n                path: \"/\"\n            });\n        },\n        setLocalStorage(name, value) {\n            localStorage.setItem(name, value);\n        },\n        getLocalStorage(name) {\n            return localStorage.getItem(name);\n        },\n        // 点击切换主题\n        changeTheme(index, isLocalStorage) {\n            // 判断是否存在下标\n            if (\n                index === null ||\n                index < 0 ||\n                this.themeList.length === 0 ||\n                index >= this.themeList.length\n            ) {\n                return false;\n            }\n            let themeSelected = this.themeList[index];\n            if (themeSelected) {\n                this.themeSelected = themeSelected;\n                if (isLocalStorage === true) {\n                    this.setLocalStorage(\"themSelectedIndex\", index);\n                }\n            }\n        },\n        // 点击了 QQ 登录\n        qqLoginClick() {\n            // 传递到父组件\n            this.$emit(\"on-qq-login-click\");\n        },\n        // im-box 的询问框\n        confirmInit(\n            title,\n            message,\n            okHandle,\n            cancelHandle,\n            okName,\n            cancelName\n        ) {\n            this.confirm.isShow = true;\n            this.confirm.title = title;\n            this.confirm.message = message;\n            this.confirm.okHandle = okHandle;\n            this.confirm.cancelHandle = cancelHandle;\n            if (okName) {\n                this.confirm.okName = okName;\n            }\n            if (cancelName) {\n                this.confirm.cancelName = cancelName;\n            }\n        },\n        userOutClick() {\n            this.confirmInit(\n                \"提示\",\n                \"确定登出吗?\",\n                () => {\n                    // 确定了\n                    this.userOut();\n                },\n                () => {\n                    // 取消了登出\n                    this.confirm.isShow = false;\n                }\n            );\n        },\n        // 登出\n        userOut() {\n            this.delUid();\n            this.delSid();\n            this.user = {\n                profile: {},\n                sid: null\n            };\n            this.userFriendList = {};\n            this.newFriendList = [];\n            this.userGroupList = {};\n            this.historyMsgList = {};\n            this.historyMsgListSelected = {};\n            this.chatMsgList = [];\n            this.chatMsgGroupUserList = {};\n            this.chatCount = 0;\n            this.userQRCodeImg = null;\n            // 关闭websocket 连接\n            this.wsOut();\n        },\n        // 游客登录\n        touristLogin(sex) {\n            // 先退出\n            this.userOut();\n            userLoginByTourist(this.apiBaseUrl, sex)\n                .then(response => {\n                    if (response.code !== 0) {\n                        this.requestErr(response.code, response.message);\n                        return false;\n                    }\n                    let data = response.data;\n                    // 设置登录信息\n                    this.setUid(data.uid);\n                    this.setSid(data.sid);\n                    // 登录成功, 重新初始化\n                    this.init();\n                })\n                .catch(() => {});\n        },\n        // QQ 登录\n        qqLogin(code, redirectUri) {\n            this.userOut();\n            userLoginByQq(this.apiBaseUrl, code, redirectUri)\n                .then(response => {\n                    if (response.code !== 0) {\n                        this.requestErr(response.code, response.message);\n                        return false;\n                    }\n                    let data = response.data;\n                    // 设置登录信息\n                    this.setUid(data.uid);\n                    this.setSid(data.sid);\n                    // 登录成功, 重新初始化\n                    this.init();\n                })\n                .catch(() => {});\n        },\n        // 初始化界面\n        init() {\n            // 初始化主题背景\n            let themSelectedIndex = this.getLocalStorage(\"themSelectedIndex\");\n            this.changeTheme(themSelectedIndex, false);\n            // 初始化用户信息\n            this.userInit();\n            // 打开通知, try 一下, 因为一些浏览器不兼容, 会报错\n            try {\n                var Notification =\n                    window.Notification ||\n                    window.mozNotification ||\n                    window.webkitNotification;\n                // 判断浏览器是否支持桌面通知\n                if (Notification) {\n                    let requestPermission = Notification.requestPermission();\n                    if (requestPermission.then) {\n                        requestPermission.then(function(result) {\n                            // result可能是是granted, denied, 或default.\n                            if (result) {\n                                // console.log(result);\n                            }\n                        });\n                    }\n                }\n            } catch (e) {\n                // console.log(e);\n            }\n        },\n        // 请求错误处理\n        requestErr(code, message) {\n            // 登录失效的\n            if (code === 1) {\n                this.delUid();\n                this.delSid();\n            }\n            // 向父组件传递出去\n            this.$emit(\"on-request-err\", code, message);\n        },\n        userQRCodeClick() {\n            if (this.userQRCodeImg) {\n                this.userQRCodeVisible = true;\n                return false;\n            }\n            userQRCheckCode(this.apiBaseUrl)\n                .then(response => {\n                    if (response.code !== 0) {\n                        this.requestErr(response.code, response.message);\n                        return false;\n                    }\n                    var opts = {\n                        errorCorrectionLevel: \"H\",\n                        type: \"image/jpeg\",\n                        rendererOpts: {\n                            quality: 0.3\n                        }\n                    };\n                    let qrCodeUrl = this.userQRCodeUrl + response.data;\n                    console.log(qrCodeUrl);\n                    // 生成二维码\n                    QRCode.toDataURL(qrCodeUrl, opts, (error, url) => {\n                        if (error) {\n                            alert(error);\n                            return false;\n                        }\n                        this.userQRCodeVisible = true;\n                        this.userQRCodeImg = url;\n                    });\n                })\n                .catch(() => {});\n        },\n        // 关闭用户二维码\n        userQRCodeCloseHandle() {\n            this.userQRCodeVisible = false;\n        },\n        // 群二维码\n        groupQRCodeClick() {\n            if (this.groupQRCodeImg) {\n                this.groupQRCodeVisible = true;\n                return false;\n            }\n            userGroupUserCheckCode(\n                this.apiBaseUrl,\n                this.historyMsgListSelected.id\n            )\n                .then(response => {\n                    if (response.code !== 0) {\n                        this.requestErr(response.code, response.message);\n                        return false;\n                    }\n                    var opts = {\n                        errorCorrectionLevel: \"H\",\n                        type: \"image/jpeg\",\n                        rendererOpts: {\n                            quality: 0.3\n                        }\n                    };\n                    let qrCodeUrl = this.groupQRCodeUrl + response.data;\n                    console.log(qrCodeUrl);\n                    // 生成二维码\n                    QRCode.toDataURL(qrCodeUrl, opts, (error, url) => {\n                        if (error) {\n                            alert(error);\n                            return false;\n                        }\n                        this.groupQRCodeVisible = true;\n                        this.groupQRCodeImg = url;\n                    });\n                })\n                .catch(() => {});\n        },\n        // 关闭用户二维码\n        groupQRCodeCloseHandle() {\n            this.groupQRCodeVisible = false;\n        },\n        // 点击下载图片\n        downloadImg(url) {\n            // 生成一个a元素\n            var a = document.createElement(\"a\");\n            // 创建一个单击事件\n            var event = new MouseEvent(\"click\");\n            // 将a的download属性设置为我们想要下载的图片名称，若name不存在则使用‘下载图片名称’作为默认名称\n            a.download = this.user.name;\n            // 将生成的URL设置为a.href属性\n            a.href = url;\n            // 触发a的单击事件\n            a.dispatchEvent(event);\n        },\n        // 去换Tab\n        imTabSelectedHandle(index) {\n            let data = [];\n            for (let item of this.imTabList) {\n                let isSelected = false;\n                if (item.index === index) {\n                    this.imTabSelectedIndex = index;\n                    isSelected = true;\n                }\n                item.isSelected = isSelected;\n                data.push(item);\n            }\n            this.imTabList = data;\n        },\n        msgClearUnMsgCount(type, id) {\n            if (type === 1) {\n                // 清空未读消息数量\n                let query = {\n                    receiverUid: id\n                };\n                userFriendMsgClearUnMsgCount(this.apiBaseUrl, query);\n            } else if (type === 2) {\n                userGroupUserClearUnMsgCount(this.apiBaseUrl, id);\n            }\n        },\n        // 打开聊天界面\n        handleChat(item) {\n            if (item.unMsgCount > 0) {\n                this.msgClearUnMsgCount(item.type, item.id);\n                let key = item.type + \"-\" + item.id;\n                this.historyMsgList[key].unMsgCount = 0;\n            }\n            this.chatVisible = true;\n            this.chatUser = item;\n            this.chatMsgList = [];\n            this.historyMsgListSelected = item;\n            this.chatMsgListFriendQuery.page = 1;\n            this.chatMsgListGroupQuery.page = 1;\n            this.chatMsgGroupUserList = {};\n            // 追加\n            this.getChatMsgList();\n        },\n        // 追加历史消息列表\n        getChatMsgList() {\n            if (this.chatMsgListHandleLoading) {\n                return false;\n            }\n            // 不是第一次加载时\n            if (this.chatMsgList.length !== 0) {\n                this.chatMsgListScrollTop = false;\n            }\n            this.chatMsgListHandleLoading = true;\n            this.chatMsgListHandleMoreText = \"加载中\";\n            let historyItem = this.historyMsgListSelected;\n            let isLoad = true; // 是否是加载更多\n            // 如果是好友类型\n            if (historyItem.type === 1) {\n                let senderUid = historyItem.id;\n                this.chatMsgListFriendQuery.senderUid = historyItem.id;\n                userFriendMsgLists(this.apiBaseUrl, this.chatMsgListFriendQuery)\n                    .then(response => {\n                        this.chatMsgListFriendQuery.page += 1;\n                        this.chatMsgListHandleLoading = false;\n                        if (response.code !== 0) {\n                            this.requestErr(response.code, response.message);\n                            return false;\n                        }\n                        let list = response.data;\n                        if (list.length === 0) {\n                            this.chatMsgListHandleMoreText = \"没有更多了\";\n                            return false;\n                        }\n                        for (let item of list) {\n                            let isMine = this.user.uid === item.senderUid;\n                            let user = {};\n                            if (isMine) {\n                                user = {\n                                    uid: this.user.uid,\n                                    name: this.user.name,\n                                    avatar: this.user.avatar\n                                };\n                            } else {\n                                user = {\n                                    uid: senderUid,\n                                    name: historyItem.name,\n                                    avatar: historyItem.avatar\n                                };\n                            }\n                            // 追加到消息列表\n                            this.pushChatMsgList(\n                                item.msgType,\n                                item.msgContent,\n                                user,\n                                item.createTime,\n                                isLoad\n                            );\n                        }\n                        this.chatMsgListHandleMoreText = \"加载更多消息\";\n                    })\n                    .catch(() => {\n                        this.chatMsgListHandleLoading = false;\n                        this.chatMsgListHandleMoreText = \"\";\n                    });\n            } else if (historyItem.type === 2) {\n                this.chatMsgListGroupQuery.groupId = historyItem.id;\n                userGroupMsgLists(this.apiBaseUrl, this.chatMsgListGroupQuery)\n                    .then(response => {\n                        this.chatMsgListGroupQuery.page += 1;\n                        this.chatMsgListHandleLoading = false;\n                        if (response.code !== 0) {\n                            this.requestErr(response.code, response.message);\n                            return false;\n                        }\n                        let list = response.data;\n                        if (list.length === 0) {\n                            this.chatMsgListHandleMoreText = \"没有更多了\";\n                            return false;\n                        }\n                        for (let item of list) {\n                            // 追加到消息列表\n                            this.pushChatMsgList(\n                                item.msgType,\n                                item.msgContent,\n                                item.user,\n                                item.createTime,\n                                isLoad\n                            );\n                        }\n                        this.chatMsgListHandleMoreText = \"加载更多消息\";\n                    })\n                    .catch(() => {\n                        this.chatMsgListHandleLoading = false;\n                        this.chatMsgListHandleMoreText = \"\";\n                    });\n            }\n        },\n        isShowClick() {\n            // 传递到父组件\n            this.$emit(\"on-is-show-click\");\n        },\n        // 关闭\n        closeChat() {\n            let selectedType = this.historyMsgListSelected.type || 0;\n            let id = this.historyMsgListSelected.id || 0;\n            this.historyMsgListSelected = {};\n            this.chatMsgList = [];\n            this.chatVisible = false;\n            // 清空文本\n            this.chatText = \"\";\n            // 清空群聊的二维码信息\n            this.groupQRCodeImg = null;\n            // 如果有当前窗口有未读消息，清除一下未读消息\n            if (this.chatCount > 0) {\n                this.chatCount = 0;\n                // 清空消息\n                this.msgClearUnMsgCount(selectedType, id);\n            }\n        },\n        // emoji 表情\n        handleEmoji() {\n            this.emojiVisible = !this.emojiVisible;\n        },\n        selectEmoji(item) {\n            this.chatText += \":emoji[\" + item.code + \"]\";\n            this.chatTextFocus = true;\n        },\n        userInit() {\n            if (!this.getUid() || !this.getSid()) {\n                return false;\n            }\n            userLoginInfo(this.apiBaseUrl, {})\n                .then(response => {\n                    if (response.code !== 0) {\n                        this.requestErr(response.code, response.message);\n                        return false;\n                    }\n                    let data = response.data;\n                    this.user = data;\n                    // 向父组件传递登录初始化完成\n                    this.$emit(\"on-login-init\");\n                    // 递归拉取好友\n                    this.getUserFriendList(1, this.userFriendListLimit);\n                    // 递归拉取群列表\n                    this.getUserGroupList(1, this.userGroupListLimit);\n\n                    // 初始化 WebSocket\n                    this.webSocketInit();\n                })\n                .catch(() => {});\n        },\n        // 获取用户朋友列表\n        getUserFriendList(page, limit) {\n            let query = {\n                page: page,\n                limit: limit\n            };\n            userFriendLists(this.apiBaseUrl, query)\n                .then(response => {\n                    if (response.code !== 0) {\n                        return false;\n                    }\n                    let data = response.data;\n                    if (data.length <= 0) {\n                        return false;\n                    }\n                    let userFriendList = Object.assign({}, this.userFriendList);\n                    for (let item of data) {\n                        // 聊过天\n                        if (item.lastMsgContent) {\n                            this.pushHistoryMsg(\n                                1,\n                                item.user.uid,\n                                item.remark || item.user.name,\n                                item.user.remark,\n                                item.user.avatar,\n                                item.lastMsgContent,\n                                item.unMsgCount,\n                                item.modifiedTime\n                            );\n                        }\n                        userFriendList[item.friendUid] = item;\n                    }\n                    this.userFriendList = userFriendList;\n                    if (data.length < limit) {\n                        return false;\n                    }\n                    this.getUserFriendList(page + 1, limit);\n                })\n                .catch(() => {});\n        },\n        // 朋友列表的点击\n        friendClick(item) {\n            let data = {\n                type: 1,\n                id: item.friendUid,\n                name: item.remark ? item.remark : item.user.name,\n                avatar: item.user.avatar,\n                remark: item.user.remark,\n                unMsgCount: item.unMsgCount ? item.unMsgCount : 0\n            };\n            this.handleChat(data);\n        },\n        // 新的朋友点击\n        newFriendClick() {\n            if (!this.newFriendVisible) {\n                this.newFriendQuery.page = 1;\n                this.newFriendVisible = true;\n                this.newFriendLoadMore = true;\n                this.newFriendList = [];\n                this.getUserFriendAskList();\n                // 清空\n                if (this.user.profile.friendAskCount > 0) {\n                    this.clearFriendAskCount();\n                }\n                return false;\n            }\n            this.newFriendVisible = false;\n        },\n        // 发送好友请求\n        createUserFriendAsk(checkCode, remark) {\n            userFriendAskCreate(this.apiBaseUrl, checkCode, remark)\n                .then(response => {\n                    if (response.code) {\n                        return false;\n                    }\n                })\n                .catch(() => {});\n        },\n        // 确认\n        askAck(item, status) {\n            userFriendAskAck(this.apiBaseUrl, item.id, status)\n                .then(response => {\n                    if (response.code) {\n                        return false;\n                    }\n                    item.status = status;\n                    let userFriendList = Object.assign({}, this.userFriendList);\n                    userFriendList[item.friendUid] = item;\n                    this.userFriendList = userFriendList;\n                    // 追加到历史消息\n                    this.pushHistoryMsg(\n                        1,\n                        item.user.uid,\n                        item.user.name,\n                        item.user.remark,\n                        item.user.avatar,\n                        item.remark ? item.remark : \"成为好友，现在开始聊吧~\",\n                        0,\n                        new Date()\n                    );\n                })\n                .catch(() => {});\n        },\n        // 清空好友请求数量\n        clearFriendAskCount() {\n            userFriendAskClearFriendAskCount(this.apiBaseUrl)\n                .then(response => {\n                    if (response.code) {\n                        return false;\n                    }\n                    this.user.profile.friendAskCount = 0;\n                })\n                .catch(() => {});\n        },\n        // 获取好友请求列表\n        getUserFriendAskList() {\n            if (!this.newFriendLoadMore || this.newFriendLoading) {\n                return false;\n            }\n            this.newFriendLoading = true;\n            userFriendAskLists(this.apiBaseUrl, this.newFriendQuery)\n                .then(response => {\n                    this.newFriendLoading = false;\n                    if (response.code) {\n                        this.newFriendLoadMore = true;\n                        return false;\n                    }\n                    this.newFriendQuery.page += 1;\n                    let data = response.data;\n                    if (data.length === 0) {\n                        this.newFriendLoadMore = false;\n                        return false;\n                    }\n                    if (data.length < this.newFriendQuery.limit) {\n                        this.newFriendLoadMore = false;\n                    }\n                    this.newFriendList = this.newFriendList.concat(data);\n                })\n                .catch(() => {\n                    this.newFriendLoading = false;\n                });\n        },\n        // 获取群列表\n        getUserGroupList(page, limit) {\n            let query = {\n                page: page,\n                limit: limit\n            };\n            userGroupUserLists(this.apiBaseUrl, query)\n                .then(response => {\n                    if (response.code !== 0) {\n                        return false;\n                    }\n                    let data = response.data;\n                    if (data.length <= 0) {\n                        return false;\n                    }\n                    let userGroupList = Object.assign({}, this.userGroupList);\n                    for (let item of data) {\n                        // 聊过天\n                        if (item.lastMsgContent) {\n                            this.pushHistoryMsg(\n                                2,\n                                item.groupId,\n                                item.remark || item.group.name,\n                                item.group.remark,\n                                item.group.avatar,\n                                item.lastMsgContent,\n                                item.unMsgCount,\n                                item.lastMsgTime\n                            );\n                        }\n                        userGroupList[item.groupId] = item;\n                    }\n                    this.userGroupList = userGroupList;\n                    if (data.length < limit) {\n                        return false;\n                    }\n                    this.getUserGroupList(page + 1, limit);\n                })\n                .catch(() => {});\n        },\n        // 群组列表的点击\n        groupClick(item) {\n            let data = {\n                type: 2,\n                id: item.groupId,\n                name: item.group.name,\n                avatar: item.group.avatar,\n                remark: item.group.remark\n            };\n            this.handleChat(data);\n        },\n        // 创建群\n        createGroup() {\n            this.createGroupVisible = true;\n            if (this.createGroupName.length === 0) {\n                return false;\n            }\n            userGroupCreate(this.apiBaseUrl, this.createGroupName, \"\", \"\")\n                .then(response => {\n                    if (response.code !== 0) {\n                        this.requestErr(response.code, response.message);\n                        return false;\n                    }\n                    let data = response.data;\n                    let userGroupList = Object.assign({}, this.userGroupList);\n                    let item = {\n                        groupId: data.groupId,\n                        group: data\n                    };\n                    userGroupList[item.groupId] = item;\n                    this.userGroupList = userGroupList;\n                    this.createGroupVisible = false;\n                    this.createGroupName = \"\";\n                    // 默认打开群聊天界面\n                    let chatData = {\n                        type: 2,\n                        id: item.groupId,\n                        name: item.group.name,\n                        avatar: item.group.avatar,\n                        remark: item.group.remark\n                    };\n                    this.handleChat(chatData);\n                })\n                .catch(() => {});\n        },\n        // 取消创建群\n        createGroupClose() {\n            this.createGroupVisible = false;\n        },\n        // 加入群\n        joinGroupUser(checkCode) {\n            userGroupUserCreate(this.apiBaseUrl, checkCode)\n                .then(response => {\n                    if (response.code !== 0) {\n                        this.requestErr(response.code, response.message);\n                        return false;\n                    }\n                    let item = response.data;\n\n                    let userGroupList = Object.assign({}, this.userGroupList);\n                    this.pushHistoryMsg(\n                        2,\n                        item.groupId,\n                        item.remark || item.group.name,\n                        item.group.remark,\n                        item.group.avatar,\n                        item.lastMsgContent,\n                        1,\n                        item.lastMsgTime\n                    );\n                    userGroupList[item.groupId] = item;\n                    this.userGroupList = userGroupList;\n                })\n                .catch(() => {});\n        },\n        // 修改在群的信息\n        updateGroupUser(groupId, remark) {\n            userGroupUserUpdate(this.apiBaseUrl, groupId, remark)\n                .then(response => {\n                    if (response.code !== 0) {\n                        this.requestErr(response.code, response.message);\n                        return false;\n                    }\n                })\n                .catch(() => {});\n        },\n        // 删除/退出群\n        outGroupUser(groupId) {\n            userGroupUserDelete(this.apiBaseUrl, groupId)\n                .then(response => {\n                    if (response.code !== 0) {\n                        this.requestErr(response.code, response.message);\n                        return false;\n                    }\n                    let item = response.data;\n\n                    let userGroupList = Object.assign({}, this.userGroupList);\n                    delete userGroupList[item.groupId];\n                    this.userGroupList = userGroupList;\n                    let historyMsgList = Object.assign({}, this.historyMsgList);\n                    delete historyMsgList[2 + \"-\" + item.groupId];\n                    this.historyMsgList = historyMsgList;\n                })\n                .catch(() => {});\n        },\n        isShowGroupUserListClick() {\n            this.chatMsgGroupUserVisible = !this.chatMsgGroupUserVisible;\n            if (\n                !this.chatMsgGroupUserVisible ||\n                Object.keys(this.chatMsgGroupUserList).length > 0\n            ) {\n                return false;\n            }\n            let query = {\n                groupId: this.historyMsgListSelected.id,\n                page: 1,\n                limit: 500\n            };\n            userGroupLists(this.apiBaseUrl, query)\n                .then(response => {\n                    if (response.code !== 0) {\n                        this.requestErr(response.code, response.message);\n                        return false;\n                    }\n                    let data = response.data;\n                    let chatMsgGroupUserList = Object.assign(\n                        {},\n                        this.chatMsgGroupUserList\n                    );\n                    for (let item of data) {\n                        chatMsgGroupUserList[item.user.uid] = item;\n                    }\n                    this.chatMsgGroupUserList = chatMsgGroupUserList;\n                })\n                .catch(() => {});\n        },\n        // 追加历史消息 (type: 1:好友,2:群消息)\n        pushHistoryMsg(\n            type,\n            id,\n            name,\n            remark,\n            avatar,\n            lastMsgContent,\n            unMsgCount,\n            modifiedTime\n        ) {\n            let key = type + \"-\" + id;\n            let map = Object.assign({}, this.historyMsgList);\n            let item = map[key];\n            console.log(item, key, \"历史消息\");\n            if (item) {\n                item.lastMsgContent = lastMsgContent;\n                item.unMsgCount += unMsgCount;\n                item.modifiedTime = modifiedTime;\n                map[key] = item;\n                this.historyMsgList = map;\n                return false;\n            }\n            let data = {\n                id: id,\n                type: type,\n                name: name,\n                remark: remark,\n                avatar: avatar,\n                lastMsgContent: lastMsgContent,\n                unMsgCount: unMsgCount,\n                modifiedTime: modifiedTime\n            };\n            map[key] = data;\n            this.historyMsgList = map;\n        },\n        // 追加消息到当前聊天 {isLoad：是否加载更多}\n        pushChatMsgList(msgType, msgContent, user, createTime, isLoad) {\n            msgContent = this.createContent(msgContent);\n            createTime = this.formatDate(createTime, \"yyyy/MM/dd hh:mm:ss\");\n            let item = {};\n            item.isMine = this.user.uid === user.uid;\n            item.user = user;\n            item.msgType = msgType;\n            item.msgContent = msgContent;\n            item.createTime = createTime;\n            // 加载更多，向头部增加\n            if (isLoad) {\n                this.chatMsgList.unshift(item);\n            } else {\n                // 头部尾部增加\n                this.chatMsgList.push(item);\n            }\n        },\n        // 断开连接时\n        webSocketClose() {\n            // 修改状态为未连接\n            this.webSocketIsOpen = false;\n            this.webSocket = null;\n            // 判断是否重连\n            if (\n                this.webSocketIsReconnect &&\n                this.webSocketReconnectCount === 0\n            ) {\n                // 第一次直接尝试重连\n                this.webSocketReconnect();\n            }\n        },\n        // 定时心跳\n        webSocketPing() {\n            this.webSocketPingTimer = setTimeout(() => {\n                if (!this.webSocketIsOpen) {\n                    return false;\n                }\n                console.log(\"心跳\");\n                const payload = {\n                    type: 0\n                };\n                this.webSocketSend(payload);\n                clearTimeout(this.webSocketPingTimer);\n                // 重新执行\n                this.webSocketPing();\n            }, this.webSocketPingTime);\n        },\n        // 初始化 WebSocket\n        webSocketInit() {\n            this.webSocketWarningText =\n                \"连接断开,正在尝试重连 <i class='dotting'></i>\";\n            // 修改是否重连为 true\n            this.webSocketIsReconnect = true;\n            this.webSocket = new WebSocket(this.webSocketUrl);\n            this.webSocket.onopen = this.webSocketHandleOpen;\n            this.webSocket.onerror = this.webSocketHandleError;\n            this.webSocket.onmessage = this.webSocketHandleMessage;\n            this.webSocket.onclose = this.webSocketHandleClose;\n        },\n        // WebSocket 重连\n        webSocketReconnect() {\n            if (this.webSocketIsOpen) {\n                return false;\n            }\n            this.webSocketReconnectCount += 1;\n            // 判断是否到了最大重连次数\n            if (\n                this.webSocketReconnectCount >= this.webSocketReconnectMaxCount\n            ) {\n                this.webSocketWarningText = \"重连次数超限\";\n                return false;\n            }\n            // 初始化\n            this.webSocketInit();\n\n            // 每过 5 秒尝试一次，检查是否连接成功，直到超过最大重连次数\n            let timer = setTimeout(() => {\n                this.webSocketReconnect();\n                clearTimeout(timer);\n            }, 5000);\n        },\n        // WebSocket 打开成功后\n        webSocketHandleOpen() {\n            console.log(\"连接打开\");\n            this.webSocketIsOpen = true;\n            // 清空重连的次数\n            this.webSocketReconnectCount = 0;\n            // 发送登录信息\n            const payload = {\n                type: 1\n            };\n            this.webSocketSend(payload);\n            // 开启定时心跳\n            this.webSocketPing();\n        },\n        // WebSocket 关闭\n        webSocketHandleClose() {\n            console.log(\"连接断开\");\n            // 关闭心跳\n            this.webSocketClose();\n        },\n        // WebSocket 发生错误时\n        webSocketHandleError(err) {\n            console.log(\"连接报错：\", err);\n            // 关闭心跳\n            this.webSocketClose();\n        },\n        // 接收到消息时\n        webSocketHandleMessage(event) {\n            // 响应体的message\n            const data = event.data;\n            this.WSResDecode(data, response => {\n                console.log(\"服务端消息:\", response);\n                let type = response.type || 0;\n                switch (type) {\n                    case -2: // 登录异常\n                        // 退出登录\n                        this.userOut();\n                        break;\n                    case -1: // 异地登录\n                        // 通知下线\n                        this.wsOut();\n                        break;\n                    case 1: // 好友消息\n                        this.wsFriendMsgHandle(response);\n                        break;\n                    case 2: // 群消息\n                    case 5: // 加入群消息\n                        this.wsGroupMsgHandle(response);\n                        break;\n                    case 3: // 好友请求\n                        this.wsFriendAskHandle();\n                        break;\n                    case 4: // 好友同意消息\n                        this.wsFriendAckHandle(response);\n                        break;\n                }\n            });\n        },\n        wsOut() {\n            this.webSocketWarningText = \"异地登录请重新登录\";\n            // 修改重连状态\n            this.webSocketIsReconnect = false;\n            if (this.webSocket) {\n                console.log(\"关闭websocket\");\n                // 关闭 websocket\n                this.webSocket.close();\n            }\n        },\n        // 好友请求\n        wsFriendAskHandle() {\n            this.user.profile.friendAskCount += 1;\n        },\n        // 好友同意消息\n        wsFriendAckHandle(response) {\n            let message = response.message;\n            let user = response.user;\n            let createTime = new Date(response.createTime);\n            let receiveId = message.receiveId || 0;\n            let uid = user.uid || 0;\n            let msgContent = message.msgContent || \"\";\n            if (\n                !receiveId ||\n                typeof receiveId !== \"number\" ||\n                receiveId === 0 ||\n                !msgContent ||\n                msgContent === \"\" ||\n                typeof uid !== \"number\" ||\n                uid === 0\n            ) {\n                return false;\n            }\n            let userFriendList = Object.assign({}, this.userFriendList);\n            let userFriendItem = {\n                friendUid: uid,\n                user: user\n            };\n            userFriendList[uid] = userFriendItem;\n            this.userFriendList = userFriendList;\n            let historyType = 1; // 好友\n            let unMsgCount = 1;\n            // 追加到历史消息\n            this.pushHistoryMsg(\n                historyType,\n                uid,\n                user.name,\n                user.remark,\n                user.avatar,\n                msgContent,\n                unMsgCount,\n                createTime\n            );\n        },\n        // 消息类型的消息（好友消息）\n        wsFriendMsgHandle(response) {\n            let message = response.message;\n            let user = response.user;\n            let createTime = new Date(response.createTime);\n            let receiveId = message.receiveId || 0;\n            let uid = user.uid || 0;\n            let msgType = message.msgType || 0;\n            let msgContent = message.msgContent || \"\";\n            console.log(\"好友消息\", receiveId, msgContent, uid);\n            if (\n                !receiveId ||\n                typeof receiveId !== \"number\" ||\n                receiveId === 0 ||\n                !msgContent ||\n                msgContent === \"\" ||\n                typeof uid !== \"number\" ||\n                uid === 0\n            ) {\n                return false;\n            }\n            let name = user.name;\n            let remark = user.remark;\n            let avatar = user.avatar;\n            // 判断是不是打开的这个对象\n            let selectedType = this.historyMsgListSelected.type || 0;\n            let id = this.historyMsgListSelected.id || 0;\n            let unMsgCount = 1;\n            let historyType = 1;\n            // 判断是不是聊天窗口的消息\n            if (selectedType === historyType && id === uid) {\n                let user = {\n                    uid: uid,\n                    name: name,\n                    avatar: avatar\n                };\n                this.pushChatMsgList(msgType, msgContent, user, createTime);\n                unMsgCount = 0;\n                // 如果超过 1 个消息，则做一次 ACK 消息的操作\n                this.chatCount += 1;\n                if (this.chatCount >= this.chatMaxCount) {\n                    this.chatCount = 0;\n                    // 清空消息\n                    this.msgClearUnMsgCount(historyType, id);\n                }\n            }\n            this.pushHistoryMsg(\n                historyType,\n                uid,\n                name,\n                remark,\n                avatar,\n                msgContent,\n                unMsgCount,\n                createTime\n            );\n        },\n        // 消息类型的消息（群消息）\n        wsGroupMsgHandle(response) {\n            let type = response.type;\n            let message = response.message;\n            let user = response.user;\n            let createTime = new Date(response.createTime);\n            let receiveId = message.receiveId || 0;\n            let uid = user.uid || 0;\n            let msgType = message.msgType || 0;\n            let msgContent = message.msgContent || \"\";\n            console.log(\"群消息\", receiveId, msgContent, uid);\n            if (\n                !receiveId ||\n                typeof receiveId !== \"number\" ||\n                receiveId === 0 ||\n                !msgContent ||\n                msgContent === \"\" ||\n                typeof uid !== \"number\" ||\n                uid === 0\n            ) {\n                return false;\n            }\n            // 如果是入群消息, 则改变\n            let isJoinGroup = false;\n            if (type === 5) {\n                isJoinGroup = true;\n            }\n            let name = user.name;\n            let remark = user.remark;\n            let avatar = user.avatar;\n            // 判断是不是打开的这个对象\n            let selectedType = this.historyMsgListSelected.type || 0;\n            let id = this.historyMsgListSelected.id || 0;\n            let unMsgCount = 1;\n            let historyType = 2;\n            // 判断是不是聊天窗口的消息\n            if (selectedType === historyType && id === receiveId) {\n                let user = {\n                    uid: uid,\n                    name: name,\n                    avatar: avatar\n                };\n                this.pushChatMsgList(msgType, msgContent, user, createTime);\n                unMsgCount = 0;\n                // 如果超过 多少 个消息，则做一次 ACK 消息的操作\n                this.chatCount += 1;\n                if (this.chatCount >= this.chatMaxCount) {\n                    this.chatCount = 0;\n                    // 清空消息\n                    this.msgClearUnMsgCount(historyType, id);\n                }\n                // 入群消息\n                if (isJoinGroup) {\n                    let chatMsgGroupUserList = Object.assign(\n                        {},\n                        this.chatMsgGroupUserList\n                    );\n                    chatMsgGroupUserList[user.uid] = user;\n                    this.chatMsgGroupUserList = chatMsgGroupUserList;\n                }\n            }\n            let groupItem = this.userGroupList[receiveId];\n            name = groupItem.group ? groupItem.group.name : \"gd\" + receiveId;\n            remark = groupItem.group ? groupItem.group.remark : \"\";\n            avatar = groupItem.group ? groupItem.group.avatar : \"\";\n            this.pushHistoryMsg(\n                historyType,\n                receiveId,\n                name,\n                remark,\n                avatar,\n                msgContent,\n                unMsgCount,\n                createTime\n            );\n        },\n        // 发送ws消息\n        webSocketSend(payload) {\n            // 加入登录验证\n            payload.uid = parseInt(this.getUid());\n            payload.sid = this.getSid();\n            let buffer = this.WSResEncode(payload);\n            this.webSocket.send(buffer);\n        },\n        // 发送按钮点击\n        sendBtnClick() {\n            if (\n                !this.chatText ||\n                this.chatText === \"\" ||\n                /^[ ]+$/.test(this.chatText)\n            ) {\n                return false;\n            }\n            let item = this.historyMsgListSelected;\n            let msgType = 0; // 文本消息\n            if (item.type === 1) {\n                // 发送\n                let postData = {\n                    receiverUid: item.id,\n                    msgType: msgType,\n                    msgContent: this.chatText\n                };\n                userFriendMsgCreate(this.apiBaseUrl, postData)\n                    .then(response => {\n                        if (response.code !== 0) {\n                            this.requestErr(response.code, response.message);\n                            return false;\n                        }\n                        this.receiveMessage(\n                            item.type,\n                            item.id,\n                            item.name,\n                            item.remark,\n                            item.avatar,\n                            msgType,\n                            this.user,\n                            this.chatText,\n                            new Date()\n                        );\n                        this.chatText = \"\";\n                    })\n                    .catch(() => {});\n                return false;\n            }\n            if (item.type === 2) {\n                let postData = {\n                    groupId: item.id,\n                    msgType: msgType,\n                    msgContent: this.chatText\n                };\n                userGroupMsgCreate(this.apiBaseUrl, postData)\n                    .then(response => {\n                        if (response.code !== 0) {\n                            this.requestErr(response.code, response.message);\n                            return false;\n                        }\n                        this.receiveMessage(\n                            item.type,\n                            item.id,\n                            item.name,\n                            item.remark,\n                            item.avatar,\n                            msgType,\n                            this.user,\n                            this.chatText,\n                            new Date()\n                        );\n                        this.chatText = \"\";\n                    })\n                    .catch(() => {});\n                return false;\n            }\n        },\n        // 接收消息的追加\n        receiveMessage(\n            type,\n            id,\n            name,\n            remark,\n            avatar,\n            msgType,\n            user,\n            msgContent,\n            createTime\n        ) {\n            // 是否自动滚动到底部\n            this.chatMsgListScrollTop = true;\n            let data = {};\n            data.isMine = this.user.uid === user.uid;\n            if (this.historyMsgListSelected !== null) {\n                data.msgType = msgType;\n                data.user = user;\n                data.msgContent = this.createContent(msgContent);\n                data.createTime = this.formatDate(\n                    createTime,\n                    \"yyyy/MM/dd hh:mm:ss\"\n                );\n                this.chatMsgList.push(data);\n            }\n\n            let lastMsgContent = msgContent;\n            switch (msgType) {\n                case 1:\n                    lastMsgContent = \"[图片消息]\";\n                    break;\n                case 2:\n                    lastMsgContent = \"[文件消息]\";\n                    break;\n                case 3:\n                    lastMsgContent = \"[语言消息]\";\n                    break;\n                case 4:\n                    lastMsgContent = \"[视频消息]\";\n                    break;\n            }\n            let unMsgCount = data.isMine ? 0 : 1;\n            // 更新最后一次接收的消息\n            this.pushHistoryMsg(\n                type,\n                id,\n                name,\n                remark,\n                avatar,\n                lastMsgContent,\n                unMsgCount,\n                createTime\n            );\n        },\n        // 格式化文本消息, 这里主要做表情的筛选\n        createContent(text) {\n            if (typeof text === \"string\") {\n                text = this.htmlSpecialChars(text);\n                let html = text\n                    /* eslint-disable */\n                    .replace(/:emoji\\[([^\\s\\[\\]]+?)\\]/g, function(emoji) {\n                        // 转义表情\n                        var emojiId = \"emoji_\" + emoji.replace(/^:emoji/g, \"\");\n                        return document.getElementById(emojiId).innerHTML + \"&nbsp;\";\n                    })\n                    .replace(/\\n/g, \"<br>\");\n                return html;\n            }\n            return text;\n        },\n        getDate(dateStr) {\n            let date = new Date(dateStr);\n            if (isNaN(date.getDate())) {\n                // 说明有可能是手机端, 做一下处理\n                dateStr = dateStr.replace(/T/g, ' ');\n                dateStr = dateStr.replace(/-/g, '/');\n                dateStr = dateStr.replace(/\\.\\d+/, ' ');\n                date = new Date(dateStr);\n                // 如果还是转换不了\n                if (isNaN(date.getDate())) {\n                    return null;\n                }\n            }\n            return date;\n        },\n        // 日期的格式化\n        formatDate(dateStr, fmt) {\n            if (!dateStr) {\n                return \"\";\n            }\n            let date = this.getDate(dateStr);\n            if (!date) {\n                return \"\";\n            }\n            if (!fmt) {\n                fmt = \"yyyy-MM-dd\";\n            }\n            const o = {\n                \"M+\": date.getMonth() + 1, //月份\n                \"d+\": date.getDate(), //日\n                \"h+\": date.getHours(), //小时\n                \"m+\": date.getMinutes(), //分\n                \"s+\": date.getSeconds(), //秒\n                \"q+\": Math.floor((date.getMonth() + 3) / 3), //季度\n                S: date.getMilliseconds() //毫秒\n            };\n            if (/(y+)/.test(fmt))\n                fmt = fmt.replace(\n                    RegExp.$1,\n                    (date.getFullYear() + \"\").substr(4 - RegExp.$1.length)\n                );\n            for (let k in o)\n                if (new RegExp(\"(\" + k + \")\").test(fmt))\n                    fmt = fmt.replace(\n                        RegExp.$1,\n                        RegExp.$1.length === 1\n                            ? o[k]\n                            : (\"00\" + o[k]).substr((\"\" + o[k]).length)\n                    );\n            return fmt;\n        },\n        htmlSpecialChars(str) {\n            str = str.replace(/&/g, \"&amp;\");\n            str = str.replace(/</g, \"&lt;\");\n            str = str.replace(/>/g, \"&gt;\");\n            str = str.replace(/\"/g, \"&quot;\");\n            str = str.replace(/'/g, \"&#039;\");\n            return str;\n        },\n        // 弹出浏览器通知\n        notification(id, title, content, icon) {\n            var Notification =\n                window.Notification ||\n                window.mozNotification ||\n                window.webkitNotification;\n            // 判断浏览器是否支持桌面通知\n            if (Notification && Notification.permission === \"granted\") {\n                let notification = new Notification(title, {\n                    body: content,\n                    icon: icon\n                });\n                notification.onclick = (() => {\n                    // 点击了通知消息\n                    notification.close();\n                });\n            }\n        },\n        // 主面板的移动\n        moveImBox(e) {\n            // let ele = e.target;\n            //算出鼠标相对元素的位置\n            const _this = this;\n            // let disX = e.clientX - ele.offsetLeft;\n            // let disY = e.clientY - ele.offsetTop;\n            let disX = e.clientX - this.$refs.imBox.offsetLeft;\n            let disY = e.clientY - this.$refs.imBox.offsetTop;\n            _this.isMove = true;\n            document.onmousemove = (e)=>{\n                //鼠标按下并移动的事件\n                //用鼠标的位置减去鼠标相对元素的位置，得到元素的位置\n                let left = e.clientX - disX;\n                let top = e.clientY - disY;\n\n                //绑定元素位置到positionX和positionY上面\n                _this.imBoxPositionY = left + 'px';\n                _this.imBoxPositionX = top + 'px';\n\n            };\n            document.onmouseup = (e) => {\n                _this.isMove = false;\n                document.onmousemove = null;\n                document.onmouseup = null;\n            };\n        },\n        // 聊天界面的移动\n        moveChatMsg(e) {\n            // let ele = e.target;\n            //算出鼠标相对元素的位置\n            const _this = this;\n            // let disX = e.clientX - ele.offsetLeft;\n            // let disY = e.clientY - ele.offsetTop;\n            let disX = e.clientX - this.$refs.imChatBox.offsetLeft;\n            let disY = e.clientY - this.$refs.imChatBox.offsetTop;\n            let disW = this.$refs.imChatBox.clientWidth;\n            let disH = this.$refs.imChatBox.clientHeight;\n            _this.isMove = true;\n            document.onmousemove = (e)=>{\n                // 鼠标按下并移动的事件\n                // 用鼠标的位置减去鼠标相对元素的位置，得到元素的位置\n                let left = e.clientX - disX;\n                let top = e.clientY - disY;\n                // 判断是否到了临界值, 因为用了 transform: translate(-50%, -50%); 所以要除 2\n                if ((top > (disH / 2)) && ((_this.clientHeight - top) > (disH / 2))) {\n                    _this.chatMsgListPositionX = top + 'px';\n                }\n                if ((left > (disW / 2)) && ((_this.clientWidth - left) > (disW / 2))) {\n                    _this.chatMsgListPositionY = left + 'px';\n                }\n            };\n            document.onmouseup = (e) => {\n                _this.isMove = false;\n                document.onmousemove = null;\n                document.onmouseup = null;\n            };\n        }\n    },\n    directives: {\n        focus: {\n            update(el, { value }) {\n                if (value) {\n                    el.focus();\n                }\n            }\n        }\n    },\n    filters: {\n        getDefaultAvatar(avatar) {\n            if (avatar === null || avatar === \"\" || avatar === \"\") {\n                return \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWAgMAAABBb5lxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURUxpcfDw8OPj4+Dg4FOJnTQAAAABdFJOUwBA5thmAAABUElEQVRYw+3Yy22EMBAGYDpLFUMOPlCCS3AVrmNLYJugBB9yy4UDKwHJhhj5Mdj/slYekn3+NPJ4PGNB87ICq2kQtV4x9l5ZZZVV9hvsjdpLnk30ufosG+6sy7HlrqjNsfGLkcqwYWMyw/TGXtNs21q8uYDN34zSbLKsT7LRMoUxmWQGY4NlXQmmLRM/yKwKi3qO6aLR/jJ7NFOB3RBR4iKZB5kq0Vlgny5Y1y8EjRpbBoHNty7DDDYGwaE6s4meneQrex5nn48tVZllI5fowdOmsGh90WiqVKbguWFVAEuP3TfwPQX7dJ9IbYrt3Ux0STBNBwPOY06woPwe0y4TR2wmbx0x4zPJs8VX3pk4bAyYG85hOmSCYxNFq2eYiZlkWKyc27mzhWEUs4ljfcRGjsmIDU+wrrJCzGBVYEuvInZjVFu/ASurrLL/y64N9sv6AwiKosleKgwtAAAAAElFTkSuQmCC\";\n            }\n            return avatar;\n        },\n        askAckStatusFilterName(index) {\n            const map = {\n                0: \"确认\",\n                1: \"已添加\",\n                2: \"已拒绝\"\n            };\n            return map[index];\n        }\n    },\n    mounted() {\n        // 获取浏览器可视区域高度\n        this.clientHeight = `${document.documentElement.clientHeight}`;\n        this.clientWidth = `${document.documentElement.clientWidth}`;\n\n        this.__resizeHandler = () => {\n            this.clientHeight = `${document.documentElement.clientHeight}`;\n            this.clientWidth = `${document.documentElement.clientWidth}`;\n        };\n\n        // 添加事件\n        window.addEventListener(\"resize\", this.__resizeHandler);\n    },\n    // 组件销毁\n    beforeDestroy() {\n        // 移除事件\n        window.removeEventListener(\"resize\", this.__resizeHandler);\n    },\n    created() {\n        // 判断是否自动初始化\n        if (this.isAutoInit) {\n            this.init();\n        }\n    },\n    computed: {\n        imBoxStyle () {\n            let data = {};\n            if (this.width) {\n                data.width = this.width;\n            }\n            if (this.height) {\n                data.height = this.height;\n            }\n            if (this.top) {\n                data.top = this.top;\n            }\n            if (this.left) {\n                data.left = this.left;\n            }\n            if (this.bottom) {\n                data.bottom = this.bottom;\n            }\n            if (this.right) {\n                data.right = this.right;\n            }\n            if (this.imBoxPositionX && this.isShow) {\n                data.top = this.imBoxPositionX;\n            }\n            if (this.imBoxPositionY && this.isShow) {\n                data.left = this.imBoxPositionY;\n            }\n            data = {\n                ...data,\n                ...this.themeSelected\n            };\n            return data;\n        },\n        imChatBoxStyle () {\n            let data = {};\n            data = {\n                top: this.chatMsgListPositionX,\n                left: this.chatMsgListPositionY,\n                ...this.themeSelected\n            };\n            return data;\n        },\n        sortHistoryMsgList: function () {\n            let historyMsgList = [];\n            let historyMsgListKeys = Object.keys(this.historyMsgList)\n                .sort((a, b) => {\n                    let aItem = this.historyMsgList[a];\n                    let bItem = this.historyMsgList[b];\n                    let aDate = this.getDate(aItem.modifiedTime);\n                    if (!aDate) {\n                        return -1;\n                    }\n                    let bDate = this.getDate(bItem.modifiedTime);\n                    if (!bDate) {\n                        return 1;\n                    }\n                    return bDate.getTime() - aDate.getTime();\n                })\n                .map((v) => {\n                    historyMsgList.push(this.historyMsgList[v]);\n                });\n            return historyMsgList;\n        }\n    },\n    watch: {\n        chatMsgList() {\n            const _this = this;\n            this.$nextTick(function(){\n                let chatMsgList = document.getElementById(\"chatMsgList\");\n                if (_this.chatMsgListScrollTop) {\n                    chatMsgList.scrollTop = chatMsgList.scrollHeight;\n                }\n            });\n        }\n    },\n    // 组件销毁时触发\n    destroyed() {\n        // 关闭 websocket 链接\n        this.wsOut();\n    }\n};\n</script>\n\n<style type=\"text/scss\" lang=\"scss\">\nbody,\nhtml {\n    height: 100%;\n    font-family: \"Helvetica Neue\", Helvetica, Arial, \"Hiragino Sans GB\",\n    \"Microsoft YaHei\", sans-serif;\n    font-size: 14px;\n}\n*,\n::before,\n::after {\n    /*选择所有标签*/\n    margin: 0;\n    padding: 0;\n    /*清除移动端默认的点击高亮效果*/\n    -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\n    /*设置所有的元素都是以边框开始计算宽度的 百分比*/\n    box-sizing: border-box;\n}\na img {\n    border: 0;\n}\na {\n    text-decoration: none;\n    &:hover {\n        text-decoration: none;\n    }\n}\nul,\nol {\n    list-style: none;\n}\n\ninput {\n    border: none;\n    outline: none;\n    /*清除移动端默认的表单样式*/\n    -webkit-appearance: none;\n}\n//清除浮动\n@mixin clearfix() {\n    &:before,\n    &:after {\n        content: \" \";\n        display: table;\n    }\n    &:after {\n        clear: both;\n    }\n}\n//截断文本  元素必须是 block 或 inline-block 级。\n@mixin text-overflow() {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n.im-box {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    /*border: 1px solid rgba(0, 0, 0, 0.05);*/\n    /*border-radius: 5px;*/\n    box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.15);\n    transition: transform .3s ease;\n    transform: translate3d(0,100%,0);\n    border: 1px solid rgba(0, 0, 0, 0.05);\n}\n.im-move {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    cursor: move;\n    opacity: 0;\n    filter: alpha(opacity=0);\n    background-color: #fff;\n    z-index: 2147483647;\n}\n.im-box-show {\n    transform: translateZ(0);\n}\n.im-icon {\n    cursor: pointer;\n    background-size: 44px auto;\n    background-image: url(image/im-icon.png);\n    background-repeat: no-repeat;\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 2),\nonly screen and (min--moz-device-pixel-ratio: 2),\nonly screen and (-o-min-device-pixel-ratio: 2/1),\nonly screen and (min-device-pixel-ratio: 2) {\n    .im-icon {\n        background-image: url(image/im-icon@2x.png);\n    }\n}\n.im-icon-ring-open {\n    background-position: -22px -89px;\n}\n.im-icon-panel-down {\n    background-position: -22px -66px;\n}\n.im-icon-close {\n    background-position: 0 -130px;\n}\n.im-icon-emoji {\n    background-position: 0 0;\n}\n.im-icon-photo {\n    background-position: 0 -22px;\n}\n.im-icon-upload {\n    background-position: 0 -440px;\n}\n.im-icon-ring-open,\n.im-icon-close,\n.im-icon-emoji,\n.im-icon-photo,\n.im-icon-upload,\n.im-icon-panel-down {\n    display: inline-block;\n    width: 22px;\n    height: 22px;\n}\n.im-box-move {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 10px;\n    cursor: move;\n    z-index: 999;\n}\n.im-panel-header {\n    position: relative;\n    background-color: rgba(230, 230, 230, 0.7);\n    color: #fff;\n    height: 80px;\n    padding: 7px 10px;\n    zoom: 1;\n    font-size: 16px;\n    box-shadow: 0 1px 0 0 rgba(0, 0, 0, 0.06), 0 2px 0 0 rgba(0, 0, 0, 0.01);\n    overflow: hidden;\n    .im-header-user {\n        padding-left: 8px;\n        margin-top: 12px;\n        display: flex;\n        align-items: center;\n        .im-header-user-avatar {\n            flex: 0 0 auto;\n            display: inline-block;\n            width: 52px;\n            height: 52px;\n            border-radius: 50%;\n        }\n        .im-header-user-content {\n            margin-left: 8px;\n            overflow: hidden;\n        }\n        .im-header-user-name {\n            margin-top: 1px;\n            color: #000;\n            @include text-overflow;\n        }\n        .im-header-user-remark {\n            margin-top: 1px;\n            font-size: 13px;\n            color: rgba(0,0,0,0.6);\n            @include text-overflow;\n        }\n    }\n    .im-header-out-login {\n        display: inline-block;\n        width: 22px;\n        height: 22px;\n        cursor: pointer;\n    }\n    .im-header-qrcode-box {\n        display: inline-block;\n        width: 22px;\n        height: 22px;\n        cursor: pointer;\n    }\n    .im-header-setwin {\n        position: absolute;\n        top: 5px;\n        right: 5px;\n    }\n}\n.im-box-confirm-box {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    z-index: 999;\n    text-align: center;\n    .im-box-confirm {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate3d(-50%,-50%,0);\n        background-color: #fff;\n        width: 85%;\n        border-radius: 3px;\n        font-size: 16px;\n        overflow: hidden;\n        backface-visibility: hidden;\n        transition: .2s;\n    }\n    .im-box-confirm-header {\n        padding: 15px 0 0;\n    }\n    .im-box-confirm-title {\n        text-align: center;\n        padding-left: 0;\n        margin-bottom: 0;\n        font-size: 16px;\n        font-weight: 700;\n        color: #333;\n    }\n    .im-box-confirm-content {\n        padding: 10px 20px 15px;\n        border-bottom: 1px solid #ddd;\n        min-height: 36px;\n        position: relative;\n    }\n    .im-box-confirm-message {\n        color: #999;\n        margin: 0;\n        text-align: center;\n        line-height: 36px;\n    }\n    .im-box-confirm-buttons {\n        display: flex;\n        height: 40px;\n        line-height: 40px;\n    }\n    .im-box-confirm-button {\n        line-height: 35px;\n        display: block;\n        background-color: #fff;\n        flex: 1;\n        margin: 0;\n        border: 0;\n        cursor: pointer;\n    }\n    .im-box-confirm-cancel {\n        width: 50%;\n        border-right: 1px solid #ddd;\n    }\n    .im-box-confirm-ok {\n        color: #26a2ff;\n        width: 50%;\n    }\n}\n.user-qrcode-box {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    z-index: 999;\n    .user-qrcode {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        z-index: 1000;\n    }\n    .user-qrcode-download {\n        cursor: pointer;\n        height: 50px;\n        line-height: 50px;\n        text-align: center;\n        color: #fff;\n    }\n    .user-uid {\n        height: 50px;\n        line-height: 50px;\n        text-align: center;\n        color: #fff;\n    }\n}\n.user-login-box {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.9);\n    z-index: 999;\n    .user-login-list {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        z-index: 1000;\n        display: flex;\n    }\n    .user-login-button:first-child {\n        margin-left: 0;\n    }\n    .user-login-button {\n        display: inline-block;\n        margin-left: 20px;\n        cursor: pointer;\n        text-align: center;\n        img {\n            width: 50px;\n            height: 50px;\n        }\n        span {\n            display: block;\n            color: #ffffff;\n        }\n        &:hover {\n            opacity: 0.7;\n        }\n    }\n}\n.group-qrcode-box {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    z-index: 999;\n    .group-qrcode {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        z-index: 1000;\n    }\n    .group-qrcode-download {\n        cursor: pointer;\n        height: 50px;\n        line-height: 50px;\n        text-align: center;\n        color: #fff;\n    }\n    .group-id {\n        height: 50px;\n        line-height: 50px;\n        text-align: center;\n        color: #fff;\n    }\n}\n.im-tab-nav {\n    background-color: rgba(230, 230, 230, 0.7);\n}\n.im-tab {\n    cursor: pointer;\n    width: 100%;\n    height: 42px;\n    line-height: 42px;\n    .im-tab-item {\n        position: relative;\n        display: inline-block;\n        text-align: center;\n        width: 33.33%;\n        height: 100%;\n        &:hover {\n            opacity: 0.5;\n        }\n    }\n    .im-tab-item-selected::after {\n        content: '';\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        width: 100%;\n        height: 3px;\n        background-color: #3FDD86;\n    }\n    .im-tab-badge {\n        position: absolute;\n        top: 4px;\n        right: 10px;\n        background-color: #f56c6c;\n        border-radius: 10px;\n        color: #fff;\n        display: inline-block;\n        font-size: 12px;\n        height: 19px;\n        line-height: 19px;\n        padding: 0 5px;\n        text-align: center;\n        white-space: nowrap;\n        border: 1px solid #fff;\n    }\n}\n.im-list-empty {\n    width: 100%;\n    height: 50px;\n    line-height: 50px;\n    text-align: center;\n    color: #999;\n}\n.im-panel-body {\n    position: absolute;\n    top: 122px;\n    bottom: 30px;\n    right: 0;\n    left: 0;\n    width: 100%;\n    background-color: #fcfcfc;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    background-color: rgba(255, 255, 255, 0.9);\n}\n.im-group-create {\n    height: 40px;\n    color: green;\n    text-align: center;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.04);\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding-right: 10px;\n    padding-left: 10px;\n    input {\n        height: 25px;\n        padding: 2px 5px;\n        flex: 2;\n        border: 1px solid rgba(0, 0, 0, 0.04);\n    }\n    .im-group-create-button {\n        cursor: pointer;\n        height: 100%;\n        line-height: 40px;\n        flex: 1;\n    }\n}\n.im-new-friend {\n    height: 40px;\n    line-height: 40px;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.04);\n    padding-right: 50px;\n    padding-left: 10px;\n    cursor: pointer;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.05);\n    }\n}\n.im-new-friend-list-more {\n    width: 100%;\n    height: 30px;\n    line-height: 30px;\n    text-align: center;\n}\n.im-panel-searchbar {\n    position: relative;\n    background-color: #f8f8f8;\n    box-sizing: border-box;\n    padding: 5px 7px;\n    z-index: 1;\n}\n.im-panel-searchbar-inner {\n    position: relative;\n    height: 28px;\n    padding-left: 25px;\n    background-color: #fff;\n    border-radius: 3px;\n}\n.im-panel-search {\n    position: absolute;\n    left: 10px;\n    top: 8px;\n    width: 13px;\n    vertical-align: middle;\n    line-height: 28px;\n}\n.im-panel-searchbar-core {\n    appearance: none;\n    border: 0;\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    outline: 0;\n    outline-offset: -2px;\n    vertical-align: middle;\n    border-top-right-radius: 3px;\n    border-bottom-right-radius: 3px;\n}\n.im-panel-user-list {\n    li {\n        position: relative;\n        /*padding: 0 0 0 15px;*/\n        padding-left: 12px;\n        /*height: 65px;*/\n        cursor: pointer;\n        display: flex;\n        overflow: hidden;\n        align-items: center;\n    }\n    li:hover {\n        background-color: rgba(0, 0, 0, 0.05);\n    }\n    .im-user-left {\n        width: 52px;\n        height: 52px;\n    }\n    .im-user-right {\n        position: relative;\n        padding: 18px 0;\n        /*height: 100%;*/\n        border-bottom: 1px solid rgba(0, 0, 0, 0.04);\n    }\n    .im-user-avatar {\n        display: inline-block;\n        width: 52px;\n        height: 52px;\n        border-radius: 26px;\n        box-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.1);\n        vertical-align: middle;\n    }\n    .im-user-info {\n        display: inline-block;\n        height: 100%;\n        margin-left: 10px;\n        vertical-align: middle;\n    }\n    .im-user-name {\n        display: inline-block;\n        margin-bottom: 3px;\n        font-size: 15px;\n        @include text-overflow;\n    }\n    .im-user-remark {\n        display: block;\n        max-width: 200px;\n        margin-top: 3px;\n        font-size: 12px;\n        color: #999;\n        @include text-overflow;\n    }\n    .im-panel-badge {\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        background-color: #f56c6c;\n        border-radius: 10px;\n        color: #fff;\n        display: inline-block;\n        font-size: 12px;\n        height: 19px;\n        line-height: 19px;\n        padding: 0 5px;\n        text-align: center;\n        white-space: nowrap;\n        border: 1px solid #fff;\n    }\n    .im-user-button {\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        height: 50px;\n        line-height: 50px;\n        text-align: center;\n        color: green;\n        span {\n            cursor: pointer;\n        }\n    }\n}\n.im-list-more {\n    display: block;\n    width: 100%;\n    height: 35px;\n    line-height: 35px;\n    text-align: center;\n    font-size: 12px;\n    color: #777;\n    cursor: pointer;\n}\n.im-panel-footer {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    background-color: #f6f6f6;\n    height: 30px;\n    line-height: 30px;\n    padding-left: 10px;\n    padding-right: 10px;\n    font-size: 12px;\n    .im-panel-theme {\n        display: inline-block;\n        width: 25px;\n        height: 25px;\n        vertical-align: middle;\n        cursor: pointer;\n        img {\n            width: 100%;\n            height: 100%;\n        }\n    }\n    .im-panel-theme-list {\n        position: absolute;\n        bottom: 30px;\n        left: 0;\n        width: 100%;\n        height: 140px;\n        border-top: 1px solid #d9d9d9;\n        background-color: #ffffff;\n        padding-top: 10px;\n        padding-left: 10px;\n    }\n    .im-panel-theme-item {\n        padding-bottom: 10px;\n        padding-right: 10px;\n        display: inline-block;\n        width: 33.33%;\n        height: 50%;\n        line-height: 50%;\n        text-align: center;\n        cursor: pointer;\n        div {\n            display: inline-block;\n            width: 100%;\n            height: 100%;\n            background-color: #ccc;\n        }\n    }\n}\n.im-chat-box {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 600px;\n    height: 522px;\n    z-index: 100;\n    border-radius: 2px;\n    border: 1px solid #D9D9D9;\n    overflow-y: hidden;\n}\n.im-chat-move {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 10px;\n    cursor: move;\n}\n.im-chat-header {\n    position: relative;\n    height: 80px;\n    padding: 18px 12px 12px;\n    /*background-color: #ececec;*/\n    background-color: rgba(230, 230, 230, 0.7);\n    color: #444;\n    box-shadow: 0 1px 0 0 rgba(0, 0, 0, 0.06), 0 2px 0 0 rgba(0, 0, 0, 0.01);\n    border-bottom: 1px solid #eee;\n}\n.im-chat-warning {\n    position: absolute;\n    top: 80px;\n    left: 0;\n    width: 100%;\n    height: 25px;\n    line-height: 25px;\n    color: #e6a26d;\n    font-size: 12px;\n    /*background-color: #fdf6eb;*/\n    background-color: rgba(253, 246, 235, 0.9);\n    text-align: center;\n    z-index: 3;\n    opacity: 0.8;\n}\n.im-user-warning-box {\n    height: 25px;\n    background-color: rgba(0, 0, 0, 0);\n}\n.dotting {\n    position: absolute;\n    top: 12px;\n    display: inline-block;\n    width: 10px;\n    min-height: 2px;\n    padding-right: 2px;\n    border-left: 2px solid currentColor; border-right: 2px solid currentColor;\n    background-color: currentColor; background-clip: content-box;\n    box-sizing: border-box;\n    animation: dotting 2s infinite step-start both;\n    *zoom: expression(this.innerHTML = '...'); /* IE7 */\n}\n.dotting:before { content: '...'; } /* IE8 */\n.dotting::before { content: ''; }\n:root .dotting { margin-left: 2px; padding-left: 2px; } /* IE9+ */\n\n@keyframes dotting {\n    25% { border-color: transparent; background-color: transparent; }          /* 0个点 */\n    50% { border-right-color: transparent; background-color: transparent; }    /* 1个点 */\n    75% { border-right-color: transparent; }                                   /* 2个点 */\n}\n.im-chat-reconnect {\n    width: 100%;\n    height: 20px;\n    line-height: 20px;\n    text-align: center;\n    background-color: #f8f8f8;\n}\n.im-chat-user {\n    cursor: default;\n    display: flex;\n    align-items: center;\n}\n.im-chat-user-avatar {\n    flex: 0 0 auto;\n    display: inline-block;\n    width: 52px;\n    height: 52px;\n    border-radius: 26px;\n    box-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.1);\n    vertical-align: middle;\n}\n.im-chat-user-info {\n    display: inline-block;\n    margin-left: 10px;\n    vertical-align: middle;\n    overflow: hidden;\n}\n.im-chat-user-name {\n    display: inline-block;\n    max-width: 160px;\n    font-size: 14px;\n    @include text-overflow;\n}\n.im-chat-user-list-button {\n    display: inline-block;\n    overflow: hidden;\n    margin-left: 10px;\n    color: #999;\n}\n.im-chat-user-remark {\n    display: block;\n    font-size: 13px;\n    color: #999;\n    margin-top: 5px;\n    width: 100%;\n    @include text-overflow;\n}\n.im-chat-setwin {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n}\n.im-chat-main {\n    position: absolute;\n    top: 80px;\n    bottom: 140px;\n    width: 100%;\n    padding: 15px 15px 5px;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    background-color: rgba(255, 255, 255, 0.9);\n}\n.im-chat-msg-box {\n    position: relative;\n    width: 100%;\n    margin-bottom: 10px;\n    padding-left: 60px;\n    min-height: 68px;\n    font-size: 0;\n    overflow: hidden;\n}\n.im-chat-msg-emoji {\n    width: 20px;\n    height: 20px;\n    vertical-align: middle;\n}\n.im-chat-msg-mine {\n    text-align: right;\n    padding-left: 0;\n    padding-right: 60px;\n}\n.im-chat-msg-user {\n    display: inline-block;\n    position: absolute;\n    left: 3px;\n    font-size: 14px;\n    vertical-align: top;\n    width: 100%;\n    img {\n        width: 40px;\n        height: 40px;\n        border-radius: 100%;\n    }\n}\n.im-chat-msg-user-remark {\n    position: absolute;\n    left: 60px;\n    top: -2px;\n    line-height: 24px;\n    font-size: 12px;\n    color: #999;\n    text-align: left;\n    span {\n        display: inline-block;\n        vertical-align: middle;\n        max-width: 170px;\n        @include text-overflow();\n    }\n    i {\n        display: inline-block;\n        vertical-align: middle;\n        padding-left: 15px;\n        font-style: normal;\n    }\n}\n.im-chat-msg-text {\n    position: relative;\n    display: inline-block;\n    line-height: 22px;\n    margin-top: 25px;\n    padding: 8px 15px;\n    background-color: #e2e2e2;\n    border-radius: 3px;\n    color: #333;\n    word-break: break-all;\n    font-size: 14px;\n    img {\n        max-width: 100%;\n        vertical-align: middle;\n    }\n}\n.im-chat-msg-text::after {\n    content: \"\";\n    position: absolute;\n    left: -10px;\n    top: 13px;\n    width: 0;\n    height: 0;\n    border-style: solid dashed dashed;\n    border-color: #e2e2e2 transparent transparent;\n    overflow: hidden;\n    border-width: 10px;\n}\n.im-chat-msg-mine .im-chat-msg-text::after {\n    left: auto;\n    right: -10px;\n    border-top-color: #5fb878;\n}\n.im-chat-msg-mine {\n    .im-chat-msg-user {\n        left: auto;\n        right: 3px;\n    }\n    .im-chat-msg-user-remark {\n        left: auto;\n        right: 60px;\n        text-align: right;\n        i {\n            padding-left: 0;\n            padding-right: 15px;\n        }\n    }\n    .im-chat-msg-text {\n        margin-left: 0;\n        text-align: left;\n        background-color: #5fb878;\n        /*background-color: rgba(255, 255, 255, 0.9);*/\n        color: #fff;\n    }\n}\n.im-chat-footer {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    height: 140px;\n    /*background-color: #fff;*/\n    background-color: rgba(255, 255, 255, 0.9);\n    box-shadow: 0 -1px 0 0 rgba(0, 0, 0, 0.04), 0 -2px 0 0 rgba(0, 0, 0, 0.01);\n}\n.im-chat-feature-holder {\n    /*height: 40px;*/\n}\n.im-chat-feature-btn-box {\n    padding-top: 7px;\n    padding-bottom: 3px;\n}\n.im-emoji-box {\n    position: relative;\n}\n.im-emoji-holder {\n    position: absolute;\n    /*display: none;*/\n    top: -130px;\n    left: -10px;\n    right: 0;\n    z-index: 101;\n    width: 320px;\n    height: 120px;\n    padding: 10px;\n    border: 1px solid #d9d9d9;\n    background-color: #fff;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n}\n.im-emoji-control {\n    background-image: url(image/emoji.png);\n    background-size: 25px auto;\n    background-repeat: no-repeat;\n    display: block;\n    float: left;\n    width: 25px;\n    height: 25px;\n    margin-top: 6px;\n    margin-left: 7px;\n    cursor: pointer;\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 2),\nonly screen and (min--moz-device-pixel-ratio: 2),\nonly screen and (-o-min-device-pixel-ratio: 2/1),\nonly screen and (min-device-pixel-ratio: 2) {\n    .im-emoji-control {\n        background-image: url(image/emoji@2x.png);\n    }\n}\n.im-chat-feature-btn {\n    cursor: pointer;\n    margin-left: 12px;\n}\n.im-chat-text-holder {\n    textarea {\n        display: block;\n        width: 100%;\n        height: 65px;\n        padding: 8px 10px;\n        overflow-x: hidden;\n        overflow-y: auto;\n        resize: none;\n        outline: 0;\n        background: 0 0;\n        border: 0;\n        word-break: break-all;\n        font-size: 13px;\n        line-height: 17px;\n        -webkit-appearance: none;\n    }\n}\n.im-chat-send-box {\n    position: relative;\n    height: 45px;\n}\n.im-chat-send {\n    position: absolute;\n    right: 15px;\n    top: 3px;\n    height: 32px;\n    line-height: 32px;\n    background: 0 0;\n}\n.im-chat-send-btn {\n    background: 0 0;\n    cursor: pointer;\n    display: inline-block;\n    vertical-align: top;\n    font-size: 14px;\n    line-height: 28px;\n    margin-left: 5px;\n    padding: 0 20px;\n    background-color: #5fb878;\n    color: #fff;\n    border-radius: 3px;\n}\n.im-chat-user-list {\n    position: absolute;\n    top: 80px;\n    height: 200px;\n    width: 100%;\n    z-index: 4;\n    overflow-y: auto;\n    overflow-x: hidden;\n    border: 1px solid #D9D9D9;\n    background-color: rgba(255,255,255,.9);\n    .im-chat-user-list-item {\n        display: inline-block;\n        width: 20%;\n        height: 70px;\n        text-align: center;\n        margin: 15px 0;\n        cursor: pointer;\n        &:hover {\n            opacity: 0.9\n        }\n        &:hover cite{\n            text-decoration: underline;\n        }\n        img {\n            width: 48px;\n            height: 48px;\n            border-radius: 100%;\n        }\n        cite {\n            display: block;\n            padding: 0 3px;\n            color: #428bca;\n            font-style: normal;\n            @include text-overflow;\n        }\n    }\n}\n@media screen and (max-width: 768px) {\n    .im-box {\n        width: 100% !important;\n        height: 100% !important;\n        border: 0 !important;\n    }\n    .im-panel-body {\n        -webkit-overflow-scrolling: touch;\n    }\n    .im-chat-main {\n        -webkit-overflow-scrolling: touch;\n    }\n    .im-chat-box {\n        width: 100%;\n        height: 100%;\n        border: 0 !important;\n    }\n}\n</style>\n"],"sourceRoot":"src\\components\\Him"}]}