{"remainingRequest":"D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\src\\components\\Him\\index.vue?vue&type=template&id=66ea51ce&","dependencies":[{"path":"D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\src\\components\\Him\\index.vue","mtime":1560643907000},{"path":"D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1578480813089},{"path":"D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1578480813089},{"path":"D:\\ProjectData\\github\\him-vue-netty\\him-vue-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div style=\"position: fixed; user-select:none;\">\n\n    <div class=\"im-move\" v-show=\"isMove\"></div>\n\n    <div class=\"im-box\" :class=\"isShow ? 'im-box-show' : ''\"\n         :style=\"imBoxStyle\"\n         ref=\"imBox\">\n        <div class=\"im-box-move\" @mousedown=\"moveImBox\"></div>\n\n        <div class=\"im-box-confirm-box\" v-if=\"confirm.isShow\" @click=\"confirm.isShow = false\">\n            <div class=\"im-box-confirm\">\n                <div class=\"im-box-confirm-header\">\n                    <div class=\"im-box-confirm-title\">{{confirm.title}}</div>\n                </div>\n                <div class=\"im-box-confirm-content\">\n                    <div class=\"im-box-confirm-message\">{{confirm.message}}</div>\n                </div>\n                <div class=\"im-box-confirm-buttons\">\n                    <div class=\"im-box-confirm-button im-box-confirm-cancel\" @click=\"confirm.cancelHandle()\">{{confirm.cancelName}}</div>\n                    <div class=\"im-box-confirm-button im-box-confirm-ok\" @click=\"confirm.okHandle()\">{{confirm.okName}}</div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"user-qrcode-box\" v-if=\"userQRCodeVisible\" @click=\"userQRCodeCloseHandle\">\n            <div class=\"user-qrcode\">\n                <img :src=\"userQRCodeImg\" alt=\"\" style=\"display: block;\" @click.stop=\"downloadImg(userQRCodeImg)\">\n                <div class=\"user-qrcode-download\" @click.stop=\"downloadImg(userQRCodeImg)\">点击/长按保存二维码</div>\n                <div class=\"user-uid\" @click.stop=\"\">用户ID: {{user.uid}}</div>\n            </div>\n        </div>\n\n        <div class=\"user-login-box\" v-if=\"!user.uid\" @click=\"isShowClick\">\n            <div class=\"user-login-list\">\n                <a class=\"user-login-button\" href=\"javascript:\" @click=\"touristLogin(2)\">\n                    <img src=\"./image/user-2-default.png\" alt=\"女游客登录\">\n                    <span>女游客</span>\n                </a>\n                <a class=\"user-login-button\" href=\"javascript:\" @click=\"touristLogin(1)\">\n                    <img src=\"./image/user-1-default.png\" alt=\"男游客登录\">\n                    <span>男游客</span>\n                </a>\n                <a class=\"user-login-button\" href=\"javascript:\" @click=\"qqLoginClick\">\n                    <img src=\"./image/login-qq.png\" alt=\"QQ登录\">\n                    <span>QQ登录</span>\n                </a>\n            </div>\n        </div>\n\n        <header class=\"im-panel-header\">\n            <div class=\"im-header-user\">\n                <img class=\"im-header-user-avatar\" :src=\"user.avatar | getDefaultAvatar\" alt=\"头像\">\n                <div class=\"im-header-user-content\">\n                    <div class=\"im-header-user-name\" :title=\"user.name\">\n                        {{ user.name }}\n                    </div>\n                    <div class=\"im-header-user-remark\" :title=\"user.remark\">\n                        {{ user.remark }}\n                    </div>\n                </div>\n            </div>\n            <div class=\"im-header-setwin\">\n                <div class=\"im-header-out-login\" @click=\"userOutClick\" title=\"登出\">\n                    <img src=\"./image/out-login.png\" alt=\"登出\" style=\"width: 100%; height: 100%;\">\n                </div>\n                <div class=\"im-header-qrcode-box\" @click=\"userQRCodeClick\">\n                    <img src=\"./image/qrcode.png\" alt=\"二维码\" title=\"二维码\" style=\"width: 100%; height: 100%;\">\n                </div>\n                <i class=\"im-icon im-icon-ring-open\"></i>\n                <i class=\"im-icon im-icon-panel-down\" @click=\"isShowClick\"></i>\n            </div>\n        </header>\n\n        <nav class=\"im-tab-nav\">\n            <ul class=\"im-tab\">\n                <li v-for=\"item in imTabList\"\n                    :key=\"item.index\"\n                    class=\"im-tab-item\"\n                    :class=\"{'im-tab-item-selected': item.isSelected}\"\n                    @click=\"imTabSelectedHandle(item.index)\">\n                    {{ item.title }}\n                    <div class=\"im-tab-badge\"\n                         v-if=\"item.index === 1 && user.profile.friendAskCount > 0\">\n                        new\n                    </div>\n                </li>\n            </ul>\n        </nav>\n\n        <!-- 历史消息-->\n        <main class=\"im-panel-body\" v-if=\"imTabSelectedIndex === 0\">\n            <div class=\"im-user-warning-box\" v-if=\"!webSocketIsOpen\">\n                <div class=\"im-chat-warning\" style=\"top: 0;\" v-html=\"webSocketWarningText\"></div>\n            </div>\n            <div class=\"im-chat-reconnect\" v-if=\"!webSocketIsReconnect\">\n                <a href=\"javascript:\" @click=\"init\">重新连接</a>\n            </div>\n            <div class=\"im-panel-searchbar\">\n                <div class=\"im-panel-searchbar-inner\">\n                    <img src=\"./image/search.png\" class=\"im-panel-search\">\n                    <input type=\"search\" placeholder=\"搜索\" class=\"im-panel-searchbar-core\">\n                </div>\n            </div>\n\n            <div class=\"im-list-empty\" v-if=\"Object.keys(historyMsgList).length === 0\">\n                暂无数据\n            </div>\n\n            <ul class=\"im-panel-user-list\">\n\n                <template v-for=\"(item) in sortHistoryMsgList\">\n                    <li @click=\"handleChat(item)\" :key=\"item.type + item.id\">\n                        <div class=\"im-user-left\">\n                            <img :src=\"item.avatar | getDefaultAvatar\" alt=\"\" class=\"im-user-avatar\">\n                        </div>\n                        <div class=\"im-user-right\">\n                            <div class=\"im-user-info\">\n                            <span class=\"im-user-name\" :title=\"item.name\">\n                                {{ item.name }}\n                            </span>\n                                <span class=\"im-user-remark\" :title=\"item.lastMsgContent\">\n                                {{ item.lastMsgContent }}\n                            </span>\n                            </div>\n                        </div>\n                        <div class=\"im-panel-badge\" v-if=\"item.unMsgCount > 0\">{{ item.unMsgCount > 99 ? '99+' : item.unMsgCount }}</div>\n                    </li>\n                </template>\n            </ul>\n\n        </main>\n\n        <!-- 朋友-->\n        <main class=\"im-panel-body\"  v-if=\"imTabSelectedIndex === 1\">\n\n            <div class=\"im-new-friend\" @click=\"newFriendClick\">\n                <span>{{ newFriendVisible ? '返回' : '新的朋友'}}</span>\n                <span style=\"color: red;\" v-if=\"!newFriendVisible && user.profile.friendAskCount > 0\">\n                    {{user.profile.friendAskCount}}\n                </span>\n            </div>\n\n            <div class=\"im-list-empty\"\n                 v-if=\"(newFriendVisible && newFriendList.length === 0)\n                        || (!newFriendVisible && Object.keys(userFriendList).length === 0)\">\n                暂无数据\n            </div>\n\n            <ul class=\"im-panel-user-list\" v-if=\"!newFriendVisible\">\n\n                <template v-for=\"(item) in userFriendList\">\n                    <li @click=\"friendClick(item)\" :key=\"item.friendUid\">\n                        <div class=\"im-user-left\">\n                            <img :src=\"item.user.avatar | getDefaultAvatar\" alt=\"\" class=\"im-user-avatar\">\n                        </div>\n                        <div class=\"im-user-right\">\n                            <div class=\"im-user-info\">\n                            <span class=\"im-user-name\" :title=\"item.remark ? item.remark : item.user.name\">\n                                {{ item.remark ? item.remark : item.user.name }}\n                            </span>\n                                <span class=\"im-user-remark\" :title=\"item.user.remark\">\n                                {{ item.user.remark }}\n                            </span>\n                            </div>\n                        </div>\n                    </li>\n                </template>\n            </ul>\n\n            <div v-if=\"newFriendVisible\">\n                <ul class=\"im-panel-user-list\">\n\n                    <template v-for=\"item in newFriendList\">\n                        <li :key=\"item.id\">\n                            <div class=\"im-user-left\">\n                                <img :src=\"item.user && item.user.avatar | getDefaultAvatar\" alt=\"\" class=\"im-user-avatar\">\n                            </div>\n                            <div class=\"im-user-right\">\n                                <div class=\"im-user-info\">\n                            <span class=\"im-user-name\" :title=\"item.user && item.user.name\">\n                                {{ item.user && item.user.name }}\n                            </span>\n                                    <span class=\"im-user-remark\" :title=\"item.remark\">\n                                {{ item.remark }}\n                            </span>\n                                </div>\n                            </div>\n                            <div class=\"im-user-button\" :style=\"{color: item.status !== 0 ? '#ccc' : ''}\">\n                                <span @click=\"askAck(item, 1)\">{{ item.status | askAckStatusFilterName }}</span>\n                                <span v-if=\"item.status === 0\" @click=\"askAck(item, 2)\" style=\"margin-left: 3px;\">拒绝</span>\n                            </div>\n                        </li>\n                    </template>\n                </ul>\n                <div v-if=\"newFriendList.length !== 0\" class=\"im-new-friend-list-more\" @click=\"getUserFriendAskList\">\n                    {{ newFriendLoadMore ? '加载更多' : '没有更多了'}}\n                </div>\n            </div>\n\n        </main>\n\n        <!-- 群组-->\n        <main class=\"im-panel-body\"  v-if=\"imTabSelectedIndex === 2\">\n\n            <div class=\"im-group-create\">\n                <input type=\"text\" v-show=\"createGroupVisible\" v-model=\"createGroupName\" placeholder=\"输入群昵称\" style=\"\">\n                <span class=\"im-group-create-button\" @click=\"createGroup\">{{ createGroupVisible ? '提交' : '新建'}}</span>\n                <span class=\"im-group-create-button\"  v-show=\"createGroupVisible\" @click=\"createGroupClose\">取消</span>\n            </div>\n\n            <div class=\"im-list-empty\" v-if=\"Object.keys(userGroupList).length === 0\">\n                暂无数据\n            </div>\n\n            <ul class=\"im-panel-user-list\">\n\n                <template v-for=\"(item) in userGroupList\">\n                    <li @click=\"groupClick(item)\" :key=\"item.groupId\">\n                        <div class=\"im-user-left\">\n                            <img :src=\"item.group.avatar | getDefaultAvatar\" alt=\"\" class=\"im-user-avatar\">\n                        </div>\n                        <div class=\"im-user-right\">\n                            <div class=\"im-user-info\">\n                            <span class=\"im-user-name\" :title=\"item.group.name\">\n                                {{ item.group.name }}\n                            </span>\n                                <span class=\"im-user-remark\" :title=\"item.group.remark\">\n                                {{ item.group.remark }}\n                            </span>\n                            </div>\n                        </div>\n                    </li>\n                </template>\n            </ul>\n\n        </main>\n\n        <footer class=\"im-panel-footer\">\n            <div class=\"im-panel-theme\" @click=\"themeVisible = !themeVisible\">\n                <img src=\"./image/theme.png\" alt=\"更换主题\">\n            </div>\n            <div class=\"im-panel-theme-list\" v-if=\"themeVisible\">\n                <div class=\"im-panel-theme-item\" v-for=\"(item, index) in themeList\" :key=\"index\" @click=\"changeTheme(index, true)\">\n                    <div v-if=\"item['background-image']\" :style=\"item\"></div>\n                    <div v-else></div>\n                </div>\n            </div>\n        </footer>\n\n    </div>\n\n    <!--聊天界面-->\n    <div class=\"im-chat-box\" v-show=\"chatVisible\" :style=\"imChatBoxStyle\" ref=\"imChatBox\">\n\n        <div class=\"group-qrcode-box\" v-if=\"groupQRCodeVisible\" @click=\"groupQRCodeCloseHandle\">\n            <div class=\"group-qrcode\">\n                <img :src=\"groupQRCodeImg\" alt=\"\" style=\"display: block;\" @click.stop=\"downloadImg(groupQRCodeImg)\">\n                <div class=\"group-qrcode-download\" @click.stop=\"downloadImg(groupQRCodeImg)\">点击/长按保存二维码</div>\n                <div class=\"group-id\" @click.stop=\"\">群ID: {{historyMsgListSelected.id}}</div>\n            </div>\n        </div>\n\n        <div class=\"user-login-box\" v-if=\"!user.uid\">\n            <div class=\"user-login-list\">\n                <a class=\"user-login-button\" href=\"javascript:\" @click=\"touristLogin(2)\">\n                    <img src=\"./image/user-2-default.png\" alt=\"女游客登录\">\n                    <span>女游客</span>\n                </a>\n                <a class=\"user-login-button\" href=\"javascript:\" @click=\"touristLogin(1)\">\n                    <img src=\"./image/user-1-default.png\" alt=\"男游客登录\">\n                    <span>男游客</span>\n                </a>\n                <a class=\"user-login-button\" href=\"javascript:\" @click=\"qqLoginClick\">\n                    <img src=\"./image/login-qq.png\" alt=\"QQ登录\">\n                    <span>QQ登录</span>\n                </a>\n            </div>\n        </div>\n\n        <header class=\"im-chat-header\">\n            <div class=\"im-chat-move\" @mousedown=\"moveChatMsg\"></div>\n            <div class=\"im-chat-user\">\n                <img :src=\"chatUser.avatar | getDefaultAvatar\" alt=\"\" class=\"im-chat-user-avatar\">\n                <div class=\"im-chat-user-info\">\n                    <span class=\"im-chat-user-name\" :title=\"chatUser.name\">\n                        {{ chatUser.name }}\n                    </span>\n                    <span class=\"im-chat-user-list-button\" v-if=\"Object.keys(chatMsgGroupUserList).length > 0\">\n                        {{Object.keys(chatMsgGroupUserList).length}}人\n                    </span>\n                    <i class=\"im-icon im-icon-panel-down\" v-if=\"chatUser.type === 2\" @click=\"isShowGroupUserListClick\"></i>\n                    <span class=\"im-chat-user-remark\" :title=\"chatUser.remark\">\n                        {{ chatUser.remark }}\n                    </span>\n                </div>\n            </div>\n            <div class=\"im-chat-setwin\">\n                <div class=\"im-icon-close\" style=\"cursor: pointer;\" @click=\"groupQRCodeClick\" v-if=\"historyMsgListSelected.type === 2\">\n                    <img src=\"./image/qrcode.png\" alt=\"二维码\" title=\"二维码\" style=\"width: 100%; height: 100%;vertical-align: text-bottom;\">\n                </div>\n                <i class=\"im-icon im-icon-close\" @click=\"closeChat\"></i>\n            </div>\n            <div class=\"im-chat-warning\" v-if=\"!webSocketIsOpen\" v-html=\"webSocketWarningText\"></div>\n        </header>\n\n        <nav style=\"display: none;\">\n            <div id=\"emoji_[smile]\"><img src=\"./emoji/smile.png\" class=\"im-chat-msg-emoji\" title=\"smile\" alt=\"smile\"></div>\n            <div id=\"emoji_[laughing]\"><img src=\"./emoji/laughing.png\" class=\"im-chat-msg-emoji\" title=\"laughing\" alt=\"laughing\"></div>\n            <div id=\"emoji_[blush]\"><img src=\"./emoji/blush.png\" class=\"im-chat-msg-emoji\" title=\"blush\" alt=\"blush\"></div>\n            <div id=\"emoji_[heart_eyes]\"><img src=\"./emoji/heart_eyes.png\" class=\"im-chat-msg-emoji\" title=\"heart_eyes\" alt=\"heart_eyes\"></div>\n            <div id=\"emoji_[smirk]\"><img src=\"./emoji/smirk.png\" class=\"im-chat-msg-emoji\" title=\"smirk\" alt=\"smirk\"></div>\n            <div id=\"emoji_[flushed]\"><img src=\"./emoji/flushed.png\" class=\"im-chat-msg-emoji\" title=\"flushed\" alt=\"flushed\"></div>\n            <div id=\"emoji_[grin]\"><img src=\"./emoji/grin.png\" class=\"im-chat-msg-emoji\" title=\"grin\" alt=\"grin\"></div>\n            <div id=\"emoji_[kissing_smiling_eyes]\"><img src=\"./emoji/kissing_smiling_eyes.png\" class=\"im-chat-msg-emoji\" title=\"kissing_smiling_eyes\" alt=\"kissing_smiling_eyes\"></div>\n            <div id=\"emoji_[wink]\"><img src=\"./emoji/wink.png\" class=\"im-chat-msg-emoji\" title=\"wink\" alt=\"wink\"></div>\n            <div id=\"emoji_[kissing_closed_eyes]\"><img src=\"./emoji/kissing_closed_eyes.png\" class=\"im-chat-msg-emoji\" title=\"kissing_closed_eyes\" alt=\"kissing_closed_eyes\"></div>\n            <div id=\"emoji_[stuck_out_tongue_winking_eye]\"><img src=\"./emoji/stuck_out_tongue_winking_eye.png\" class=\"im-chat-msg-emoji\" title=\"stuck_out_tongue_winking_eye\" alt=\"stuck_out_tongue_winking_eye\"></div>\n            <div id=\"emoji_[sleeping]\"><img src=\"./emoji/sleeping.png\" class=\"im-chat-msg-emoji\" title=\"sleeping\" alt=\"sleeping\"></div>\n            <div id=\"emoji_[worried]\"><img src=\"./emoji/worried.png\" class=\"im-chat-msg-emoji\" title=\"worried\" alt=\"worried\"></div>\n            <div id=\"emoji_[sweat_smile]\"><img src=\"./emoji/sweat_smile.png\" class=\"im-chat-msg-emoji\" title=\"sweat_smile\" alt=\"sweat_smile\"></div>\n            <div id=\"emoji_[cold_sweat]\"><img src=\"./emoji/cold_sweat.png\" class=\"im-chat-msg-emoji\" title=\"cold_sweat\" alt=\"cold_sweat\"></div>\n            <div id=\"emoji_[joy]\"><img src=\"./emoji/joy.png\" class=\"im-chat-msg-emoji\" title=\"joy\" alt=\"joy\"></div>\n            <div id=\"emoji_[sob]\"><img src=\"./emoji/sob.png\" class=\"im-chat-msg-emoji\" title=\"sob\" alt=\"sob\"></div>\n            <div id=\"emoji_[angry]\"><img src=\"./emoji/angry.png\" class=\"im-chat-msg-emoji\" title=\"angry\" alt=\"angry\"></div>\n            <div id=\"emoji_[mask]\"><img src=\"./emoji/mask.png\" class=\"im-chat-msg-emoji\" title=\"mask\" alt=\"mask\"></div>\n            <div id=\"emoji_[scream]\"><img src=\"./emoji/scream.png\" class=\"im-chat-msg-emoji\" title=\"scream\" alt=\"scream\"></div>\n            <div id=\"emoji_[sunglasses]\"><img src=\"./emoji/sunglasses.png\" class=\"im-chat-msg-emoji\" title=\"sunglasses\" alt=\"sunglasses\"></div>\n            <div id=\"emoji_[thumbsup]\"><img src=\"./emoji/thumbsup.png\" class=\"im-chat-msg-emoji\" title=\"thumbsup\" alt=\"thumbsup\"></div>\n            <div id=\"emoji_[clap]\"><img src=\"./emoji/clap.png\" class=\"im-chat-msg-emoji\" title=\"clap\" alt=\"clap\"></div>\n            <div id=\"emoji_[ok_hand]\"><img src=\"./emoji/ok_hand.png\" class=\"im-chat-msg-emoji\" title=\"ok_hand\" alt=\"ok_hand\"></div>\n        </nav>\n\n        <div class=\"im-chat-user-list\" v-if=\"chatMsgGroupUserVisible\">\n            <div class=\"im-chat-user-list-item\" v-for=\"item in chatMsgGroupUserList\" :key=\"item.user.uid\">\n                <img :src=\"item.user.avatar | getDefaultAvatar\">\n                <cite>{{item.user.name}}</cite>\n            </div>\n        </div>\n\n        <main class=\"im-chat-main\" id=\"chatMsgList\">\n            <a class=\"im-list-more\" @click=\"getChatMsgList\">{{ chatMsgListHandleMoreText }}</a>\n            <template v-for=\"(item, index) in chatMsgList\">\n                <div class=\"im-chat-msg-box\" :class=\"item.isMine ? 'im-chat-msg-mine' : ''\" :key=\"index\">\n                    <div class=\"im-chat-msg-user\">\n                        <img :src=\"item.user.avatar | getDefaultAvatar\">\n                        <div class=\"im-chat-msg-user-remark\" v-if=\"item.isMine\">\n                            <i>{{ item.createTime }}</i><span>{{ item.user.name }}</span>\n                        </div>\n                        <div class=\"im-chat-msg-user-remark\" v-else>\n                            <span>{{ item.user.name }}</span><i>{{ item.createTime }}</i>\n                        </div>\n                    </div>\n                    <div class=\"im-chat-msg-text\" v-html=\"item.msgContent\"></div>\n                </div>\n            </template>\n\n        </main>\n\n        <footer class=\"im-chat-footer\">\n            <div class=\"im-chat-feature-holder\">\n                <div class=\"im-chat-feature-btn-box\">\n                    <div class=\"im-chat-feature-btn im-icon im-icon-emoji im-emoji-box\" @click=\"handleEmoji\">\n                        <div class=\"im-emoji-holder\" v-if=\"emojiVisible\">\n                            <template v-for=\"(item, index) in emojiList\">\n                                <i class=\"im-emoji-control\" :key=\"item.code\" @click=\"selectEmoji(item)\" :title=\"item.title\" :style=\"{backgroundPosition: '0 ' + index * -25 + 'px'}\"></i>\n                            </template>\n                        </div>\n                    </div>\n                    <div class=\"im-chat-feature-btn im-icon im-icon-photo\"></div>\n                    <div class=\"im-chat-feature-btn im-icon im-icon-upload\"></div>\n                </div>\n            </div>\n            <div class=\"im-chat-text-holder\">\n                <textarea placeholder=\"请输入\" ref=\"himChatText\" @blur=\"chatTextBlur\" v-model=\"chatText\"></textarea>\n            </div>\n            <div class=\"im-chat-send-box\">\n                <div class=\"im-chat-send\">\n                    <div class=\"im-chat-send-btn\" @click=\"closeChat\">关闭</div>\n                    <div class=\"im-chat-send-btn\" @click=\"sendBtnClick\">发送</div>\n                </div>\n            </div>\n        </footer>\n    </div>\n\n</div>\n",null]}