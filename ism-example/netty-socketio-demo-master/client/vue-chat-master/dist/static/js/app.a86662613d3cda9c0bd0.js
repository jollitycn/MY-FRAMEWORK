webpackJsonp([1],{142:function(t,s,n){n(176);var e=n(2)(n(170),n(187),"data-v-52b76a8e",null);t.exports=e.exports},143:function(t,s,n){n(178);var e=n(2)(n(171),n(189),"data-v-7961e6e2",null);t.exports=e.exports},145:function(t,s,n){"use strict";var e=n(4),o=n(191),a=n(143),i=n.n(a),r=n(142),c=n.n(r),l=n(185),u=n.n(l);e.a.use(o.a);var m=new o.a({routes:[{path:"/",name:"Login",component:i.a},{path:"/chatting",name:"Chatting",component:c.a},{path:"/AI",name:"AI",component:u.a}]});s.a=m},147:function(t,s,n){n(177);var e=n(2)(n(167),n(188),null,null);t.exports=e.exports},167:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(142),o=n.n(e),a=n(143),i=n.n(a);s.default={name:"app",components:{Chatting:o.a,Login:i.a},beforeCreate:function(){console.log("%c Powered by Zhaohui - jollitycn.com","background-image:-webkit-gradient( linear, left top,right top, color-stop(0, #00a419),color-stop(0.15, #f44336), color-stop(0.29, #ff4300),color-stop(0.3, #AA00FF),color-stop(0.4, #8BC34A), color-stop(0.45, #607D8B),color-stop(0.6, #4096EE), color-stop(0.75, #D50000),color-stop(0.9, #4096EE), color-stop(1, #FF1A00));color:transparent;-webkit-background-clip:text;font-size:13px;")},created:function(){localStorage.addr="未知",this.axios.get("https://zhaoplus.com/api/ip").then(function(t){t.data.content.address&&(localStorage.addr=t.data.content.address)})}}},168:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"about",data:function(){return{isHover:!1}},computed:{isShowAbout:function(){return this.$store.state.isShowAbout}},methods:{showAbout:function(){this.$store.commit("showAbout",!1)}}}},169:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(13),o=n.n(e);s.default={name:"chatting",data:function(){return{msgs:localStorage.msgs_ai&&JSON.parse(localStorage.msgs_ai)||[],inputContent:"",oContent:{}}},watch:{msgs:function(t){localStorage.msgs_ai=o()(t)}},computed:{name:function(){return this.$store.state.name},avatarUrl:function(){return this.$store.state.avatarUrl}},beforeRouteEnter:function(t,s,n){localStorage.name?n():n("/")},mounted:function(){var t=this;this.oContent=document.getElementById("chattingContent"),setTimeout(function(){t.$refs.chattingContent.scrollTop=t.$refs.chattingContent.scrollHeight},0)},methods:{send:function(){var t=this;this.oContent.scrollTop=this.oContent.scrollHeight,""!==this.inputContent&&(this.msgs.push({date:this.moment().format("MM-DD HH:mm:ss"),loc:localStorage.addr,from:""+localStorage.name,content:this.inputContent,self:!0,avatarUrl:this.avatarUrl}),setTimeout(function(){t.$refs.chattingContent.scrollTop=t.$refs.chattingContent.scrollHeight},0),this.axios.get("https://zhaoplus.com/api/AI?search="+this.inputContent+"&userid="+(localStorage.name+localStorage.addr)+"&loc="+localStorage.addr).then(function(s){t.msgs.push({date:t.moment().format("MM-DD HH:mm:ss"),from:"智能机器人",content:s.data.result.text,self:!1,avatarUrl:"http://omratag7g.bkt.clouddn.com/icon-ai.svg"})}).then(function(){t.$refs.chattingContent.scrollTop=t.$refs.chattingContent.scrollHeight}),this.inputContent="")}}}},170:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(13),o=n.n(e);s.default={name:"chatting",data:function(){return{msgs:localStorage.msgs_group&&JSON.parse(localStorage.msgs_group)||[],inputContent:"",oContent:{},oTextarea:{},emojis:["😂","🙏","😄","😏","😇","😅","😌","😘","😍","🤓","😜","😎","😊","😳","🙄","😱","😒","😔","😷","👿","🤗","😩","😤","😣","😰","😴","😬","😭","👻","👍","✌️","👉","👀","🐶","🐷","😹","⚡️","🔥","🌈","🍏","⚽️","❤️","🇨🇳"],isShowEmoji:!1,isRedAI:!1}},watch:{msgs:function(t){localStorage.msgs_group=o()(t)}},computed:{name:function(){return this.$store.state.name},avatarUrl:function(){return this.$store.state.avatarUrl}},beforeRouteEnter:function(t,s,n){localStorage.name?n():n("/")},mounted:function(){var t=this;setInterval(function(){return t.isRedAI=!t.isRedAI},2500),this.oContent=document.querySelector(".chatting-content"),this.oContent.scrollTop=this.oContent.scrollHeight,this.oTextarea=document.querySelector("textarea"),socket.emit("online",this.$store.state.name),socket.on("online",function(s){if(s){var n=document.createElement("div");n.className="online",n.innerText=s+"上线了",t.oContent.appendChild(n),t.oContent.scrollTop=t.oContent.scrollHeight}}),socket.on("receiveGroupMsg",function(s){t.msgs.push(s),setTimeout(function(){t.oContent.scrollTop=t.oContent.scrollHeight},0)}),this.oContent.scrollTop=this.oContent.scrollHeight},methods:{send:function(){var t=this;this.isShowEmoji=!1,""!==this.inputContent&&(socket.emit("sendGroupMsg",{date:this.moment().format("YYYY-MM-DD HH:mm:ss"),loc:localStorage.addr,from:""+localStorage.name,content:this.inputContent,avatarUrl:this.avatarUrl}),this.msgs.push({date:this.moment().format("YYYY-MM-DD HH:mm:ss"),loc:localStorage.addr,from:""+localStorage.name,content:this.inputContent,self:!0,avatarUrl:this.avatarUrl}),this.inputContent="",setTimeout(function(){return t.oContent.scrollTop=t.oContent.scrollHeight},0))},showEmoji:function(t){this.isShowEmoji=t},insertText:function(t){t+=" ";var s=this.$refs.textarea;if(document.selection){document.selection.createRange().text=t}else if("number"==typeof s.selectionStart&&"number"==typeof s.selectionEnd){var n=s.selectionStart,e=(s.selectionEnd,n),o=s.value;this.inputContent=o.substring(0,n)+t+o.substring(n,o.length),e+=t.length,s.selectionStart=s.selectionEnd=e}else s.value+=t;this.newLine()},newLine:function(){var t=this;setTimeout(function(){return t.oTextarea.scrollTop=t.oTextarea.scrollHeight},0)}}}},171:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(184),o=n.n(e);s.default={name:"login",components:{About:o.a},data:function(){return{name:""}},computed:{isShowAbout:function(){return this.$store.state.isShowAbout}},methods:{login:function(){""!==this.name&&(this.$store.commit("changeName",this.name),localStorage.name=this.name,this.$router.push("Chatting"))},showAbout:function(){this.$store.commit("showAbout",!0)}}}},172:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(4),o=n(147),a=n.n(o),i=n(145),r=n(0),c=n.n(r),l=n(149),u=n(144),m=n.n(u),h=n(146),v=n.n(h),d=n(148),f=n.n(d);c.a.locale("zh-cn"),e.a.use(new f.a({debug:!0,connection:"http://jollitycn.com:9092/"})),e.a.prototype.moment=c.a,e.a.prototype.random=function(t){return Math.floor(t*Math.random())},e.a.use(l.a),e.a.use(v.a,m.a);var p=new l.a.Store({state:{name:"",avatarUrl:"http://omratag7g.bkt.clouddn.com/icon-avatar"+e.a.prototype.random(21)+".svg",addr:"未知",isShowAbout:!1},mutations:{changeName:function(t,s){t.name=s},setAddr:function(t,s){t.addr=s},showAbout:function(t,s){t.isShowAbout=s}}});e.a.config.productionTip=!1,new e.a({el:"#app",router:i.a,store:p,template:"<App/>",components:{App:a.a}})},175:function(t,s){},176:function(t,s){},177:function(t,s){},178:function(t,s){},179:function(t,s){},180:function(t,s,n){function e(t){return n(o(t))}function o(t){var s=a[t];if(!(s+1))throw new Error("Cannot find module '"+t+"'.");return s}var a={"./af":14,"./af.js":14,"./ar":21,"./ar-dz":15,"./ar-dz.js":15,"./ar-kw":16,"./ar-kw.js":16,"./ar-ly":17,"./ar-ly.js":17,"./ar-ma":18,"./ar-ma.js":18,"./ar-sa":19,"./ar-sa.js":19,"./ar-tn":20,"./ar-tn.js":20,"./ar.js":21,"./az":22,"./az.js":22,"./be":23,"./be.js":23,"./bg":24,"./bg.js":24,"./bm":25,"./bm.js":25,"./bn":26,"./bn.js":26,"./bo":27,"./bo.js":27,"./br":28,"./br.js":28,"./bs":29,"./bs.js":29,"./ca":30,"./ca.js":30,"./cs":31,"./cs.js":31,"./cv":32,"./cv.js":32,"./cy":33,"./cy.js":33,"./da":34,"./da.js":34,"./de":37,"./de-at":35,"./de-at.js":35,"./de-ch":36,"./de-ch.js":36,"./de.js":37,"./dv":38,"./dv.js":38,"./el":39,"./el.js":39,"./en-SG":40,"./en-SG.js":40,"./en-au":41,"./en-au.js":41,"./en-ca":42,"./en-ca.js":42,"./en-gb":43,"./en-gb.js":43,"./en-ie":44,"./en-ie.js":44,"./en-il":45,"./en-il.js":45,"./en-nz":46,"./en-nz.js":46,"./eo":47,"./eo.js":47,"./es":50,"./es-do":48,"./es-do.js":48,"./es-us":49,"./es-us.js":49,"./es.js":50,"./et":51,"./et.js":51,"./eu":52,"./eu.js":52,"./fa":53,"./fa.js":53,"./fi":54,"./fi.js":54,"./fo":55,"./fo.js":55,"./fr":58,"./fr-ca":56,"./fr-ca.js":56,"./fr-ch":57,"./fr-ch.js":57,"./fr.js":58,"./fy":59,"./fy.js":59,"./ga":60,"./ga.js":60,"./gd":61,"./gd.js":61,"./gl":62,"./gl.js":62,"./gom-latn":63,"./gom-latn.js":63,"./gu":64,"./gu.js":64,"./he":65,"./he.js":65,"./hi":66,"./hi.js":66,"./hr":67,"./hr.js":67,"./hu":68,"./hu.js":68,"./hy-am":69,"./hy-am.js":69,"./id":70,"./id.js":70,"./is":71,"./is.js":71,"./it":73,"./it-ch":72,"./it-ch.js":72,"./it.js":73,"./ja":74,"./ja.js":74,"./jv":75,"./jv.js":75,"./ka":76,"./ka.js":76,"./kk":77,"./kk.js":77,"./km":78,"./km.js":78,"./kn":79,"./kn.js":79,"./ko":80,"./ko.js":80,"./ku":81,"./ku.js":81,"./ky":82,"./ky.js":82,"./lb":83,"./lb.js":83,"./lo":84,"./lo.js":84,"./lt":85,"./lt.js":85,"./lv":86,"./lv.js":86,"./me":87,"./me.js":87,"./mi":88,"./mi.js":88,"./mk":89,"./mk.js":89,"./ml":90,"./ml.js":90,"./mn":91,"./mn.js":91,"./mr":92,"./mr.js":92,"./ms":94,"./ms-my":93,"./ms-my.js":93,"./ms.js":94,"./mt":95,"./mt.js":95,"./my":96,"./my.js":96,"./nb":97,"./nb.js":97,"./ne":98,"./ne.js":98,"./nl":100,"./nl-be":99,"./nl-be.js":99,"./nl.js":100,"./nn":101,"./nn.js":101,"./pa-in":102,"./pa-in.js":102,"./pl":103,"./pl.js":103,"./pt":105,"./pt-br":104,"./pt-br.js":104,"./pt.js":105,"./ro":106,"./ro.js":106,"./ru":107,"./ru.js":107,"./sd":108,"./sd.js":108,"./se":109,"./se.js":109,"./si":110,"./si.js":110,"./sk":111,"./sk.js":111,"./sl":112,"./sl.js":112,"./sq":113,"./sq.js":113,"./sr":115,"./sr-cyrl":114,"./sr-cyrl.js":114,"./sr.js":115,"./ss":116,"./ss.js":116,"./sv":117,"./sv.js":117,"./sw":118,"./sw.js":118,"./ta":119,"./ta.js":119,"./te":120,"./te.js":120,"./tet":121,"./tet.js":121,"./tg":122,"./tg.js":122,"./th":123,"./th.js":123,"./tl-ph":124,"./tl-ph.js":124,"./tlh":125,"./tlh.js":125,"./tr":126,"./tr.js":126,"./tzl":127,"./tzl.js":127,"./tzm":129,"./tzm-latn":128,"./tzm-latn.js":128,"./tzm.js":129,"./ug-cn":130,"./ug-cn.js":130,"./uk":131,"./uk.js":131,"./ur":132,"./ur.js":132,"./uz":134,"./uz-latn":133,"./uz-latn.js":133,"./uz.js":134,"./vi":135,"./vi.js":135,"./x-pseudo":136,"./x-pseudo.js":136,"./yo":137,"./yo.js":137,"./zh-cn":138,"./zh-cn.js":138,"./zh-hk":139,"./zh-hk.js":139,"./zh-tw":140,"./zh-tw.js":140};e.keys=function(){return Object.keys(a)},e.resolve=o,t.exports=e,e.id=180},183:function(t,s,n){t.exports=n.p+"static/img/help.f1f3932.png"},184:function(t,s,n){n(179);var e=n(2)(n(168),n(190),"data-v-edcc7fac",null);t.exports=e.exports},185:function(t,s,n){n(175);var e=n(2)(n(169),n(186),"data-v-508f8f50",null);t.exports=e.exports},186:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("transition",{attrs:{name:"slide-right"}},[n("div",{staticClass:"chatting"},[n("div",{staticClass:"chatting-header"},[n("div",{staticClass:"chatting-back"},[n("i",{staticClass:"icon-back",on:{click:function(s){return t.$router.push("/chatting")}}})]),t._v(" "),n("div",{staticClass:"chatting-title"},[n("h2",[t._v("AI 智能机器人")])]),t._v(" "),n("div",{staticClass:"chatting-menu"},[n("i",{staticClass:"icon-menu",on:{click:function(s){return t.$router.push("/")}}})])]),t._v(" "),n("div",{ref:"chattingContent",staticClass:"chatting-content",attrs:{id:"chattingContent"}},t._l(t.msgs,function(s){return n("div",[s.self?n("div",{staticClass:"chatting-item self clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n            "+t._s(s.date)+"\n          ")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("span",{staticClass:"loc"},[t._v("["+t._s(s.loc)+"]")]),t._v(" "),n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))]),t._v(" "),n("img",{attrs:{src:s.avatarUrl,alt:""}})]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v(t._s(s.content))])]):n("div",{staticClass:"chatting-item other clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n            "+t._s(s.date)+"\n          ")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("img",{attrs:{src:s.avatarUrl,alt:""}}),t._v(" "),n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))])]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v(t._s(s.content))])])])}),0),t._v(" "),n("div",{staticClass:"chatting-input"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputContent,expression:"inputContent",modifiers:{trim:!0}}],attrs:{placeholder:"与智能机器人聊些啥"},domProps:{value:t.inputContent},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.send(s)},input:function(s){s.target.composing||(t.inputContent=s.target.value.trim())},blur:function(s){return t.$forceUpdate()}}}),t._v(" "),n("button",{on:{click:t.send}},[t._v("发送")])])])])},staticRenderFns:[]}},187:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("transition",{attrs:{name:"slide-left"}},[n("div",{staticClass:"chatting"},[n("div",{staticClass:"chatting-header"},[n("div",{staticClass:"chatting-back"},[n("i",{class:[t.isRedAI?"icon-back":"icon-back2"],on:{click:function(s){return t.$router.push("/AI")}}})]),t._v(" "),n("div",{staticClass:"chatting-title"},[n("h2",[n("i",{staticClass:"icon-group"}),t._v("群聊")])]),t._v(" "),n("div",{staticClass:"chatting-menu"},[n("i",{staticClass:"icon-menu",on:{click:function(s){return t.$router.push("/")}}})])]),t._v(" "),n("div",{ref:"chattingContent",staticClass:"chatting-content",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.isShowEmoji=!1}}},t._l(t.msgs,function(s){return n("div",[s.self?n("div",{staticClass:"chatting-item self clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n            "+t._s(s.date)+"\n          ")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("span",{staticClass:"loc"},[t._v("["+t._s(s.loc)+"]")]),t._v(" "),n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))]),t._v(" "),n("img",{attrs:{src:s.avatarUrl,alt:""}})]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v(t._s(s.content))])]):n("div",{staticClass:"chatting-item other clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n            "+t._s(s.date)+"\n          ")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("img",{attrs:{src:s.avatarUrl,alt:""}}),t._v(" "),n("span",{staticClass:"loc"},[t._v("["+t._s(s.loc)+"]")]),t._v(" "),n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))])]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v(t._s(s.content))])])])}),0),t._v(" "),n("div",{staticClass:"chatting-input"},[n("transition",{attrs:{name:"slide-bottom"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowEmoji,expression:"isShowEmoji"}],staticClass:"emoji-display"},[n("ul",t._l(t.emojis,function(s){return n("li",{on:{click:function(n){return t.insertText(s)}}},[t._v(t._s(s))])}),0)])]),t._v(" "),n("div",{staticClass:"emoji"},[n("i",{staticClass:"icon-emoji",on:{click:function(s){return t.showEmoji(t.isShowEmoji=!t.isShowEmoji)}}})]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputContent,expression:"inputContent",modifiers:{trim:!0}}],ref:"textarea",attrs:{placeholder:"左上角还有智能机器人哦"},domProps:{value:t.inputContent},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.send(s)},input:[function(s){s.target.composing||(t.inputContent=s.target.value.trim())},t.newLine],blur:function(s){return t.$forceUpdate()}}}),t._v(" "),n("button",{on:{click:t.send}},[t._v("发送")])],1)])])},staticRenderFns:[]}},188:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},189:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("transition",{attrs:{name:"slide-top"}},[n("div",{staticClass:"login"},[n("i",{staticClass:"icon-about",attrs:{title:"关于"},on:{click:t.showAbout}}),t._v(" "),n("a",{attrs:{href:"https://jollitycn.com/",target:"_blank",title:"jollitycn.com"}},[n("i",{staticClass:"icon-website"})]),t._v(" "),n("i",{staticClass:"icon-chat"}),t._v(" "),n("h2",[t._v("请输入您的名字")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],attrs:{type:"text",autofocus:""},domProps:{value:t.name},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.login(s)},input:function(s){s.target.composing||(t.name=s.target.value.trim())},blur:function(s){return t.$forceUpdate()}}}),t._v(" "),n("transition",{attrs:{name:"showAbout"}},[t.isShowAbout?n("About"):t._e()],1)],1)])},staticRenderFns:[]}},190:function(t,s,n){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"showAbout"}},[e("div",{staticClass:"about"},[e("i",{staticClass:"close",on:{click:t.showAbout}}),t._v(" "),e("div",{staticClass:"about-content"},[e("h1",[t._v("关于")]),t._v(" "),e("h2",[t._v("Vue.js+Socket.io打造一个智能聊天室")]),t._v(" "),e("p",{staticClass:"skill"},[e("b",[t._v("技术栈")]),t._v("：")]),t._v(" "),e("div",[t._v("Vue2(页面构建+数据驱动)"),e("br"),t._v("Socket.io(实时通信)"),e("br"),t._v("Vuex(不同组件状态共享)"),e("br"),t._v("vue-router(路由)"),e("br"),t._v("axios(发起http请求)"),e("br"),t._v("SASS(SCSS)"),e("br"),t._v("Express(上线版本是Koa2)"),e("br"),t._v("Webpack(自动化构建)"),e("br"),t._v("Moment.js(时间处理)"),e("br"),t._v("ES6(贯穿全部)"),e("br"),t._v("localStorage(HTML5)"),e("br"),t._v("CSS3(动画及样式)")]),t._v(" "),e("p",{staticClass:"url"},[e("b",[t._v("GitHub")]),t._v("："),e("a",{class:{hover:t.isHover},attrs:{href:"https://github.com/jollitycn/",target:"_blank"},on:{touchstart:function(s){t.isHover=!0},touchEnd:function(s){t.isHover=!1}}},[t._v("GitHub")])]),t._v(" "),e("p",{staticClass:"url"},[e("b",[t._v("个人网站")]),t._v("："),e("a",{class:{hover:t.isHover},attrs:{href:"https://jollitycn.com/",target:"_blank"},on:{touchstart:function(s){t.isHover=!0},touchEnd:function(s){t.isHover=!1}}},[t._v("jollitycn")])]),t._v(" "),e("p",[e("br"),t._v("   待业码农，求工作～～如果你觉得该项目不错，还可以请我吃辣条😄↓↓↓")]),t._v(" "),e("div",{staticClass:"help"},[e("img",{attrs:{src:n(183),alt:"jollitycn.com"}})]),t._v(" "),e("p",{staticClass:"copyright"},[e("b",[t._v("【声明】")]),t._v("：本项目仅供学习交流使用，请不要用作任何商业用途。有任何疑问请联系作者↓ "),e("br"),t._v("📩："),e("a",{attrs:{href:"mailto:zhaohui@jollitycn.com"}},[t._v("zhaohui@jollitycn.com")])])]),t._v(" "),e("div",{staticClass:"mask",on:{click:t.showAbout}})])])},staticRenderFns:[]}}},[172]);
//# sourceMappingURL=app.a86662613d3cda9c0bd0.js.map
